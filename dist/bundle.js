!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).BloctoProvider=t()}(this,(function(){"use strict";var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}var n=t,i=r;function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===t||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}"function"==typeof e.setTimeout&&(n=setTimeout),"function"==typeof e.clearTimeout&&(i=clearTimeout);var a,s=[],f=!1,c=-1;function u(){f&&a&&(f=!1,a.length?s=a.concat(s):c=-1,s.length&&d())}function d(){if(!f){var e=o(u);f=!0;for(var t=s.length;t;){for(a=s,s=[];++c<t;)a&&a[c].run();c=-1,t=s.length}a=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new l(e,t)),1!==s.length||f||o(d)}function l(e,t){this.fun=e,this.array=t}l.prototype.run=function(){this.fun.apply(null,this.array)};function p(){}var b=p,g=p,y=p,m=p,v=p,w=p,_=p;var M=e.performance||{},A=M.now||M.mozNow||M.msNow||M.oNow||M.webkitNow||function(){return(new Date).getTime()};var k=new Date;var E={nextTick:h,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:b,addListener:g,once:y,off:m,removeListener:v,removeAllListeners:w,emit:_,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*A.call(M),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-k)/1e3}},S={};function x(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var R=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,P=function(e){return R.exec(e).slice(1)};function L(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=x(C(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function B(e){var t=T(e),r="/"===j(e,-1);return(e=x(C(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function T(e){return"/"===e.charAt(0)}var I={extname:function(e){return P(e)[3]},basename:function(e,t){var r=P(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},dirname:function(e){var t=P(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},sep:"/",delimiter:":",relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=L(e).substr(1),t=L(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}var f=[];for(s=a;s<n.length;s++)f.push("..");return(f=f.concat(i.slice(a))).join("/")},join:function(){var e=Array.prototype.slice.call(arguments,0);return B(C(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},isAbsolute:T,normalize:B,resolve:L};function C(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var O,j="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)};function z(){return"/tmp"}var N={EOL:"\n",tmpdir:z,tmpDir:z,networkInterfaces:function(){},getNetworkInterfaces:function(){},release:function(){return void 0!==e.navigator?e.navigator.appVersion:""},type:function(){return"Browser"},cpus:function(){return[]},totalmem:function(){return Number.MAX_VALUE},freemem:function(){return Number.MAX_VALUE},uptime:function(){return 0},loadavg:function(){return[]},hostname:function(){return void 0!==e.location?e.location.hostname:""},endianness:function(){if(void 0===O){var e=new ArrayBuffer(2),t=new Uint8Array(e),r=new Uint16Array(e);if(t[0]=1,t[1]=2,258===r[0])O="BE";else{if(513!==r[0])throw new Error("unable to figure out endianess");O="LE"}}return O}};function U(e){console.log(`[dotenv][DEBUG] ${e}`)}const q=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,K=/\\n/g,F=/\r\n|\n|\r/;function D(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(F).forEach((function(e,t){const i=e.match(q);if(null!=i){const e=i[1];let t=i[2]||"";const r=t.length-1,o='"'===t[0]&&'"'===t[r];"'"===t[0]&&"'"===t[r]||o?(t=t.substring(1,r),o&&(t=t.replace(K,"\n"))):t=t.trim(),n[e]=t}else r&&U(`did not match key and value when parsing line ${t+1}: ${e}`)})),n}var H={config:function(e){let t=I.resolve(E.cwd(),".env"),r="utf8",n=!1;var i;e&&(null!=e.path&&(t="~"===(i=e.path)[0]?I.join(N.homedir(),i.slice(1)):i),null!=e.encoding&&(r=e.encoding),null!=e.debug&&(n=!0));try{const e=D(S.readFileSync(t,{encoding:r}),{debug:n});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(E.env,t)?n&&U(`"${t}" is already defined in \`process.env\` and will not be overwritten`):E.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},parse:D};function G(){}function V(){V.init.call(this)}function W(e){return void 0===e._maxListeners?V.defaultMaxListeners:e._maxListeners}function J(e,t,r){if(t)e.call(r);else for(var n=e.length,i=re(e,n),o=0;o<n;++o)i[o].call(r)}function Z(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=re(e,i),a=0;a<i;++a)o[a].call(r,n)}function Y(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,a=re(e,o),s=0;s<o;++s)a[s].call(r,n,i)}function $(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var a=e.length,s=re(e,a),f=0;f<a;++f)s[f].call(r,n,i,o)}function X(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=re(e,i),a=0;a<i;++a)o[a].apply(r,n)}function Q(e,t,r,n){var i,o,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]):(o=e._events=new G,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=W(e))&&i>0&&a.length>i){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=a.length,s=f,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=o[t]=r,++e._eventsCount;return e}function ee(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function te(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function re(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}G.prototype=Object.create(null),V.EventEmitter=V,V.usingDomains=!1,V.prototype.domain=void 0,V.prototype._events=void 0,V.prototype._maxListeners=void 0,V.defaultMaxListeners=10,V.init=function(){this.domain=null,V.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new G,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},V.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},V.prototype.getMaxListeners=function(){return W(this)},V.prototype.emit=function(e){var t,r,n,i,o,a,s,f="error"===e;if(a=this._events)f=f&&null==a.error;else if(!f)return!1;if(s=this.domain,f){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=a[e]))return!1;var u="function"==typeof r;switch(n=arguments.length){case 1:J(r,u,this);break;case 2:Z(r,u,this,arguments[1]);break;case 3:Y(r,u,this,arguments[1],arguments[2]);break;case 4:$(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];X(r,u,this,i)}return!0},V.prototype.addListener=function(e,t){return Q(this,e,t,!1)},V.prototype.on=V.prototype.addListener,V.prototype.prependListener=function(e,t){return Q(this,e,t,!0)},V.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,ee(this,e,t)),this},V.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,ee(this,e,t)),this},V.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new G:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new G,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,a||t)}return this},V.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new G,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new G:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new G,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},V.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},V.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):te.call(e,t)},V.prototype.listenerCount=te,V.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ne=[],ie=[],oe="undefined"!=typeof Uint8Array?Uint8Array:Array,ae=!1;function se(){ae=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)ne[t]=e[t],ie[e.charCodeAt(t)]=t;ie["-".charCodeAt(0)]=62,ie["_".charCodeAt(0)]=63}function fe(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(ne[(i=n)>>18&63]+ne[i>>12&63]+ne[i>>6&63]+ne[63&i]);return o.join("")}function ce(e){var t;ae||se();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,f=r-n;s<f;s+=a)o.push(fe(e,s,s+a>f?f:s+a));return 1===n?(t=e[r-1],i+=ne[t>>2],i+=ne[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=ne[t>>10],i+=ne[t>>4&63],i+=ne[t<<2&63],i+="="),o.push(i),o.join("")}function ue(e,t,r,n,i){var o,a,s=8*i-n-1,f=(1<<s)-1,c=f>>1,u=-7,d=r?i-1:0,h=r?-1:1,l=e[t+d];for(d+=h,o=l&(1<<-u)-1,l>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===f)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,n),o-=c}return(l?-1:1)*a*Math.pow(2,o-n)}function de(e,t,r,n,i,o){var a,s,f,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),(t+=a+d>=1?h/f:h*Math.pow(2,1-d))*f>=2&&(a++,f/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*f-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+l]=255&s,l+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+l]=255&a,l+=p,a/=256,c-=8);e[r+l-p]|=128*b}var he={}.toString,le=Array.isArray||function(e){return"[object Array]"==he.call(e)};ye.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT;var pe=be();function be(){return ye.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ge(e,t){if(be()<t)throw new RangeError("Invalid typed array length");return ye.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=ye.prototype:(null===e&&(e=new ye(t)),e.length=t),e}function ye(e,t,r){if(!(ye.TYPED_ARRAY_SUPPORT||this instanceof ye))return new ye(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return we(this,e)}return me(this,e,t,r)}function me(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);ye.TYPED_ARRAY_SUPPORT?(e=t).__proto__=ye.prototype:e=_e(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!ye.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|ke(t,r),i=(e=ge(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Ae(t)){var r=0|Me(t.length);return 0===(e=ge(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?ge(e,0):_e(e,t);if("Buffer"===t.type&&le(t.data))return _e(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function ve(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function we(e,t){if(ve(t),e=ge(e,t<0?0:0|Me(t)),!ye.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function _e(e,t){var r=t.length<0?0:0|Me(t.length);e=ge(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Me(e){if(e>=be())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+be().toString(16)+" bytes");return 0|e}function Ae(e){return!(null==e||!e._isBuffer)}function ke(e,t){if(Ae(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $e(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Xe(e).length;default:if(n)return $e(e).length;t=(""+t).toLowerCase(),n=!0}}function Ee(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return qe(this,t,r);case"utf8":case"utf-8":return je(this,t,r);case"ascii":return Ne(this,t,r);case"latin1":case"binary":return Ue(this,t,r);case"base64":return Oe(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Se(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function xe(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=ye.from(t,n)),Ae(t))return 0===t.length?-1:Re(e,t,r,n,i);if("number"==typeof t)return t&=255,ye.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Re(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Re(e,t,r,n,i){var o,a=1,s=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,f/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===f)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+f>s&&(r=s-f),o=r;o>=0;o--){for(var d=!0,h=0;h<f;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function Pe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function Le(e,t,r,n){return Qe($e(t,e.length-r),e,r,n)}function Be(e,t,r,n){return Qe(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Te(e,t,r,n){return Be(e,t,r,n)}function Ie(e,t,r,n){return Qe(Xe(t),e,r,n)}function Ce(e,t,r,n){return Qe(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Oe(e,t,r){return 0===t&&r===e.length?ce(e):ce(e.slice(t,r))}function je(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,f,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(f=(31&c)<<6|63&o)>127&&(u=f);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(f=(15&c)<<12|(63&o)<<6|63&a)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(f=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&f<1114112&&(u=f)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=ze)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ze));return r}(n)}ye.poolSize=8192,ye._augment=function(e){return e.__proto__=ye.prototype,e},ye.from=function(e,t,r){return me(null,e,t,r)},ye.TYPED_ARRAY_SUPPORT&&(ye.prototype.__proto__=Uint8Array.prototype,ye.__proto__=Uint8Array),ye.alloc=function(e,t,r){return function(e,t,r,n){return ve(t),t<=0?ge(e,t):void 0!==r?"string"==typeof n?ge(e,t).fill(r,n):ge(e,t).fill(r):ge(e,t)}(null,e,t,r)},ye.allocUnsafe=function(e){return we(null,e)},ye.allocUnsafeSlow=function(e){return we(null,e)},ye.isBuffer=et,ye.compare=function(e,t){if(!Ae(e)||!Ae(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ye.concat=function(e,t){if(!le(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ye.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=ye.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Ae(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},ye.byteLength=ke,ye.prototype._isBuffer=!0,ye.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Se(this,t,t+1);return this},ye.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Se(this,t,t+3),Se(this,t+1,t+2);return this},ye.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Se(this,t,t+7),Se(this,t+1,t+6),Se(this,t+2,t+5),Se(this,t+3,t+4);return this},ye.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?je(this,0,e):Ee.apply(this,arguments)},ye.prototype.equals=function(e){if(!Ae(e))throw new TypeError("Argument must be a Buffer");return this===e||0===ye.compare(this,e)},ye.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},ye.prototype.compare=function(e,t,r,n,i){if(!Ae(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),f=this.slice(n,i),c=e.slice(t,r),u=0;u<s;++u)if(f[u]!==c[u]){o=f[u],a=c[u];break}return o<a?-1:a<o?1:0},ye.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},ye.prototype.indexOf=function(e,t,r){return xe(this,e,t,r,!0)},ye.prototype.lastIndexOf=function(e,t,r){return xe(this,e,t,r,!1)},ye.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Pe(this,e,t,r);case"utf8":case"utf-8":return Le(this,e,t,r);case"ascii":return Be(this,e,t,r);case"latin1":case"binary":return Te(this,e,t,r);case"base64":return Ie(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ze=4096;function Ne(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Ue(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function qe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Ye(e[o]);return i}function Ke(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Fe(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function De(e,t,r,n,i,o){if(!Ae(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function He(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Ge(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Ve(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function We(e,t,r,n,i){return i||Ve(e,0,r,4),de(e,t,r,n,23,4),r+4}function Je(e,t,r,n,i){return i||Ve(e,0,r,8),de(e,t,r,n,52,8),r+8}ye.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),ye.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=ye.prototype;else{var i=t-e;r=new ye(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},ye.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Fe(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},ye.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Fe(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},ye.prototype.readUInt8=function(e,t){return t||Fe(e,1,this.length),this[e]},ye.prototype.readUInt16LE=function(e,t){return t||Fe(e,2,this.length),this[e]|this[e+1]<<8},ye.prototype.readUInt16BE=function(e,t){return t||Fe(e,2,this.length),this[e]<<8|this[e+1]},ye.prototype.readUInt32LE=function(e,t){return t||Fe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ye.prototype.readUInt32BE=function(e,t){return t||Fe(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ye.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Fe(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},ye.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Fe(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},ye.prototype.readInt8=function(e,t){return t||Fe(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ye.prototype.readInt16LE=function(e,t){t||Fe(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},ye.prototype.readInt16BE=function(e,t){t||Fe(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},ye.prototype.readInt32LE=function(e,t){return t||Fe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ye.prototype.readInt32BE=function(e,t){return t||Fe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ye.prototype.readFloatLE=function(e,t){return t||Fe(e,4,this.length),ue(this,e,!0,23,4)},ye.prototype.readFloatBE=function(e,t){return t||Fe(e,4,this.length),ue(this,e,!1,23,4)},ye.prototype.readDoubleLE=function(e,t){return t||Fe(e,8,this.length),ue(this,e,!0,52,8)},ye.prototype.readDoubleBE=function(e,t){return t||Fe(e,8,this.length),ue(this,e,!1,52,8)},ye.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||De(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},ye.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||De(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},ye.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,1,255,0),ye.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},ye.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,65535,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):He(this,e,t,!0),t+2},ye.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,65535,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):He(this,e,t,!1),t+2},ye.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,4294967295,0),ye.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Ge(this,e,t,!0),t+4},ye.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,4294967295,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ge(this,e,t,!1),t+4},ye.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);De(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},ye.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);De(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},ye.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,1,127,-128),ye.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},ye.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,32767,-32768),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):He(this,e,t,!0),t+2},ye.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,32767,-32768),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):He(this,e,t,!1),t+2},ye.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,2147483647,-2147483648),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Ge(this,e,t,!0),t+4},ye.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ge(this,e,t,!1),t+4},ye.prototype.writeFloatLE=function(e,t,r){return We(this,e,t,!0,r)},ye.prototype.writeFloatBE=function(e,t,r){return We(this,e,t,!1,r)},ye.prototype.writeDoubleLE=function(e,t,r){return Je(this,e,t,!0,r)},ye.prototype.writeDoubleBE=function(e,t,r){return Je(this,e,t,!1,r)},ye.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!ye.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},ye.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!ye.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Ae(e)?e:$e(new ye(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function Ye(e){return e<16?"0"+e.toString(16):e.toString(16)}function $e(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Xe(e){return function(e){var t,r,n,i,o,a;ae||se();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new oe(3*s/4-o),n=o>0?s-4:s;var f=0;for(t=0,r=0;t<n;t+=4,r+=3)i=ie[e.charCodeAt(t)]<<18|ie[e.charCodeAt(t+1)]<<12|ie[e.charCodeAt(t+2)]<<6|ie[e.charCodeAt(t+3)],a[f++]=i>>16&255,a[f++]=i>>8&255,a[f++]=255&i;return 2===o?(i=ie[e.charCodeAt(t)]<<2|ie[e.charCodeAt(t+1)]>>4,a[f++]=255&i):1===o&&(i=ie[e.charCodeAt(t)]<<10|ie[e.charCodeAt(t+1)]<<4|ie[e.charCodeAt(t+2)]>>2,a[f++]=i>>8&255,a[f++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Ze,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Qe(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function et(e){return null!=e&&(!!e._isBuffer||tt(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&tt(e.slice(0,0))}(e))}function tt(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var rt=Object.freeze({__proto__:null,Buffer:ye,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),ye.alloc(+e)},isBuffer:et,kMaxLength:pe}),nt="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},it=/%[sdj%]/g;function ot(e){if(!wt(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(ut(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(it,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])mt(a)||!At(a)?o+=" "+a:o+=" "+ut(a);return o}function at(t,r){if(_t(e.process))return function(){return at(t,r).apply(this,arguments)};var n=!1;return function(){return n||(console.error(r),n=!0),t.apply(this,arguments)}}var st,ft={};function ct(e){if(_t(st)&&(st=E.env.NODE_DEBUG||""),e=e.toUpperCase(),!ft[e])if(new RegExp("\\b"+e+"\\b","i").test(st)){ft[e]=function(){var t=ot.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else ft[e]=function(){};return ft[e]}function ut(e,t){var r={seen:[],stylize:ht};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),yt(t)?r.showHidden=t:t&&Tt(r,t),_t(r.showHidden)&&(r.showHidden=!1),_t(r.depth)&&(r.depth=2),_t(r.colors)&&(r.colors=!1),_t(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=dt),lt(r,e,r.depth)}function dt(e,t){var r=ut.styles[t];return r?"["+ut.colors[r][0]+"m"+e+"["+ut.colors[r][1]+"m":e}function ht(e,t){return e}function lt(e,t,r){if(e.customInspect&&t&&St(t.inspect)&&t.inspect!==ut&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return wt(n)||(n=lt(e,n,r)),n}var i=function(e,t){if(_t(t))return e.stylize("undefined","undefined");if(wt(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(vt(t))return e.stylize(""+t,"number");if(yt(t))return e.stylize(""+t,"boolean");if(mt(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),Et(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return pt(t);if(0===o.length){if(St(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(Mt(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(kt(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Et(t))return pt(t)}var f,c="",u=!1,d=["{","}"];(gt(t)&&(u=!0,d=["[","]"]),St(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Mt(t)&&(c=" "+RegExp.prototype.toString.call(t)),kt(t)&&(c=" "+Date.prototype.toUTCString.call(t)),Et(t)&&(c=" "+pt(t)),0!==o.length||u&&0!=t.length?r<0?Mt(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),f=u?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)It(t,String(a))?o.push(bt(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(bt(e,t,r,n,i,!0))})),o}(e,t,r,a,o):o.map((function(n){return bt(e,t,r,a,n,u)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(f,c,d)):d[0]+c+d[1]}function pt(e){return"["+Error.prototype.toString.call(e)+"]"}function bt(e,t,r,n,i,o){var a,s,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(s=e.stylize("[Setter]","special")),It(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(f.value)<0?(s=mt(r)?lt(e,f.value,null):lt(e,f.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_t(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function gt(e){return Array.isArray(e)}function yt(e){return"boolean"==typeof e}function mt(e){return null===e}function vt(e){return"number"==typeof e}function wt(e){return"string"==typeof e}function _t(e){return void 0===e}function Mt(e){return At(e)&&"[object RegExp]"===Rt(e)}function At(e){return"object"==typeof e&&null!==e}function kt(e){return At(e)&&"[object Date]"===Rt(e)}function Et(e){return At(e)&&("[object Error]"===Rt(e)||e instanceof Error)}function St(e){return"function"==typeof e}function xt(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Rt(e){return Object.prototype.toString.call(e)}function Pt(e){return e<10?"0"+e.toString(10):e.toString(10)}ut.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ut.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(){var e=new Date,t=[Pt(e.getHours()),Pt(e.getMinutes()),Pt(e.getSeconds())].join(":");return[e.getDate(),Lt[e.getMonth()],t].join(" ")}function Tt(e,t){if(!t||!At(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ct={inherits:nt,_extend:Tt,log:function(){console.log("%s - %s",Bt(),ot.apply(null,arguments))},isBuffer:function(e){return ye.isBuffer(e)},isPrimitive:xt,isFunction:St,isError:Et,isDate:kt,isObject:At,isRegExp:Mt,isUndefined:_t,isSymbol:function(e){return"symbol"==typeof e},isString:wt,isNumber:vt,isNullOrUndefined:function(e){return null==e},isNull:mt,isBoolean:yt,isArray:gt,inspect:ut,deprecate:at,format:ot,debuglog:ct},Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zt(e,t){return e(t={exports:{}},t.exports),t.exports}function Nt(e){return e&&e.default||e}var Ut=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createHashFunction=function(e){return function(t){var r=e();return r.update(t),ye.from(r.digest())}}}));function qt(){this.head=null,this.tail=null,this.length=0}jt(Ut),Ut.createHashFunction,qt.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},qt.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},qt.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},qt.prototype.clear=function(){this.head=this.tail=null,this.length=0},qt.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},qt.prototype.concat=function(e){if(0===this.length)return ye.alloc(0);if(1===this.length)return this.head.data;for(var t=ye.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Kt=ye.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ft(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Kt(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ht;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Gt;break;default:return void(this.write=Dt)}this.charBuffer=new ye(6),this.charReceived=0,this.charLength=0}function Dt(e){return e.toString(this.encoding)}function Ht(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Gt(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Ft.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},Ft.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},Ft.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var Vt=Object.freeze({__proto__:null,StringDecoder:Ft});Zt.ReadableState=Jt;var Wt=ct("stream");function Jt(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Ar&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new qt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Ft(e.encoding),this.encoding=e.encoding)}function Zt(e){if(!(this instanceof Zt))return new Zt(e);this._readableState=new Jt(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),V.call(this)}function Yt(e,t,r,n,i){var o=function(e,t){var r=null;ye.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Qt(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var f;!t.decoder||i||n||(r=t.decoder.write(r),f=!t.objectMode&&0===r.length),i||(t.reading=!1),f||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Qt(e))),function(e,t){t.readingMore||(t.readingMore=!0,h(tr,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}nt(Zt,V),Zt.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=ye.from(e,t),t=""),Yt(this,r,e,t,!1)},Zt.prototype.unshift=function(e){return Yt(this,this._readableState,e,"",!0)},Zt.prototype.isPaused=function(){return!1===this._readableState.flowing},Zt.prototype.setEncoding=function(e){return this._readableState.decoder=new Ft(e),this._readableState.encoding=e,this};var $t=8388608;function Xt(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=$t?e=$t:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Qt(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Wt("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?h(er,e):er(e))}function er(e){Wt("emit readable"),e.emit("readable"),ir(e)}function tr(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Wt("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function rr(e){Wt("readable nexttick read 0"),e.read(0)}function nr(e,t){t.reading||(Wt("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),ir(e),t.flowing&&!t.reading&&e.read(0)}function ir(e){var t=e._readableState;for(Wt("flow",t.flowing);t.flowing&&null!==e.read(););}function or(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=ye.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function ar(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,h(sr,t,e))}function sr(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function fr(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function cr(){}function ur(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function dr(e,t){Object.defineProperty(this,"buffer",{get:at((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Ar&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?h(i,n):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=gr(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||br(e,r),n?h(pr,e,r,o,i):pr(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new vr(this)}function hr(e){if(!(this instanceof hr||this instanceof Ar))return new hr(e);this._writableState=new dr(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),V.call(this)}function lr(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function pr(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),mr(e,t)}function br(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0;r;)i[a]=r,r=r.next,a+=1;lr(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new vr(t)}else{for(;r;){var s=r.chunk,f=r.encoding,c=r.callback;if(lr(e,t,!1,t.objectMode?1:s.length,s,f,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function gr(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function yr(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function mr(e,t){var r=gr(t);return r&&(0===t.pendingcb?(yr(e,t),t.finished=!0,e.emit("finish")):yr(e,t)),r}function vr(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}Zt.prototype.read=function(e){Wt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Wt("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ar(this):Qt(this),null;if(0===(e=Xt(e,t))&&t.ended)return 0===t.length&&ar(this),null;var n,i=t.needReadable;return Wt("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Wt("length less than watermark",i=!0),t.ended||t.reading?Wt("reading or ended",i=!1):i&&(Wt("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Xt(r,t))),null===(n=e>0?or(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ar(this)),null!==n&&this.emit("data",n),n},Zt.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Zt.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Wt("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||!1!==t.end?a:c;function o(e){Wt("onunpipe"),e===r&&c()}function a(){Wt("onend"),e.end()}n.endEmitted?h(i):r.once("end",i),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;Wt("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,ir(e))}}(r);e.on("drain",s);var f=!1;function c(){Wt("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),e.removeListener("drain",s),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",c),r.removeListener("data",d),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}var u=!1;function d(t){Wt("ondata"),u=!1,!1!==e.write(t)||u||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==fr(n.pipes,e))&&!f&&(Wt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,u=!0),r.pause())}function l(t){Wt("onerror",t),g(),e.removeListener("error",l),0===function(e,t){return e.listeners(t).length}(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",b),g()}function b(){Wt("onfinish"),e.removeListener("close",p),g()}function g(){Wt("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",p),e.once("finish",b),e.emit("pipe",r),n.flowing||(Wt("pipe resume"),r.resume()),e},Zt.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=fr(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},Zt.prototype.on=function(e,t){var r=V.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Qt(this):h(rr,this))}return r},Zt.prototype.addListener=Zt.prototype.on,Zt.prototype.resume=function(){var e=this._readableState;return e.flowing||(Wt("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,h(nr,e,t))}(this,e)),this},Zt.prototype.pause=function(){return Wt("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Wt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Zt.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(Wt("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){(Wt("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){Wt("wrapped _read",t),r&&(r=!1,e.resume())},n},Zt._fromList=or,hr.WritableState=dr,nt(hr,V),dr.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},hr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},hr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),ye.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=cr),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),h(t,r)}(this,r):function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):ye.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),h(n,o),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=ye.from(t,r));return t}(t,r,n),ye.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);if(t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new ur(r,n,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else lr(e,t,!1,o,r,n,i);return a}(this,n,e,t,r)),i},hr.prototype.cork=function(){this._writableState.corked++},hr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||br(this,e))},hr.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},hr.prototype._write=function(e,t,r){r(new Error("not implemented"))},hr.prototype._writev=null,hr.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,mr(e,t),r&&(t.finished?h(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},nt(Ar,Zt);for(var wr=Object.keys(hr.prototype),_r=0;_r<wr.length;_r++){var Mr=wr[_r];Ar.prototype[Mr]||(Ar.prototype[Mr]=hr.prototype[Mr])}function Ar(e){if(!(this instanceof Ar))return new Ar(e);Zt.call(this,e),hr.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",kr)}function kr(){this.allowHalfOpen||this._writableState.ended||h(Er,this)}function Er(e){e.end()}function Sr(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function xr(e){if(!(this instanceof xr))return new xr(e);Ar.call(this,e),this._transformState=new Sr(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){Rr(t,e)})):Rr(t)}))}function Rr(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Pr(e){if(!(this instanceof Pr))return new Pr(e);xr.call(this,e)}function Lr(){V.call(this)}nt(xr,Ar),xr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ar.prototype.push.call(this,e,t)},xr.prototype._transform=function(e,t,r){throw new Error("Not implemented")},xr.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},xr.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},nt(Pr,xr),Pr.prototype._transform=function(e,t,r){r(null,e)},nt(Lr,V),Lr.Readable=Zt,Lr.Writable=hr,Lr.Duplex=Ar,Lr.Transform=xr,Lr.PassThrough=Pr,Lr.Stream=Lr,Lr.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",s));var o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function f(e){if(c(),0===V.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",f),e.on("error",f),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};const{Transform:Br}=Lr;var Tr=e=>class t extends Br{constructor(t,r,n,i,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!ye.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return ye.isBuffer(e)||(e=ye.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const{Transform:Ir}=Lr;var Cr=e=>class t extends Ir{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!ye.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return ye.isBuffer(e)||(e=ye.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const Or=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var jr=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],s=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],u=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49];let h=u^(i<<1|o>>>31),l=d^(o<<1|i>>>31);const p=e[0]^h,b=e[1]^l,g=e[10]^h,y=e[11]^l,m=e[20]^h,v=e[21]^l,w=e[30]^h,_=e[31]^l,M=e[40]^h,A=e[41]^l;h=r^(a<<1|s>>>31),l=n^(s<<1|a>>>31);const k=e[2]^h,E=e[3]^l,S=e[12]^h,x=e[13]^l,R=e[22]^h,P=e[23]^l,L=e[32]^h,B=e[33]^l,T=e[42]^h,I=e[43]^l;h=i^(f<<1|c>>>31),l=o^(c<<1|f>>>31);const C=e[4]^h,O=e[5]^l,j=e[14]^h,z=e[15]^l,N=e[24]^h,U=e[25]^l,q=e[34]^h,K=e[35]^l,F=e[44]^h,D=e[45]^l;h=a^(u<<1|d>>>31),l=s^(d<<1|u>>>31);const H=e[6]^h,G=e[7]^l,V=e[16]^h,W=e[17]^l,J=e[26]^h,Z=e[27]^l,Y=e[36]^h,$=e[37]^l,X=e[46]^h,Q=e[47]^l;h=f^(r<<1|n>>>31),l=c^(n<<1|r>>>31);const ee=e[8]^h,te=e[9]^l,re=e[18]^h,ne=e[19]^l,ie=e[28]^h,oe=e[29]^l,ae=e[38]^h,se=e[39]^l,fe=e[48]^h,ce=e[49]^l,ue=p,de=b,he=y<<4|g>>>28,le=g<<4|y>>>28,pe=m<<3|v>>>29,be=v<<3|m>>>29,ge=_<<9|w>>>23,ye=w<<9|_>>>23,me=M<<18|A>>>14,ve=A<<18|M>>>14,we=k<<1|E>>>31,_e=E<<1|k>>>31,Me=x<<12|S>>>20,Ae=S<<12|x>>>20,ke=R<<10|P>>>22,Ee=P<<10|R>>>22,Se=B<<13|L>>>19,xe=L<<13|B>>>19,Re=T<<2|I>>>30,Pe=I<<2|T>>>30,Le=O<<30|C>>>2,Be=C<<30|O>>>2,Te=j<<6|z>>>26,Ie=z<<6|j>>>26,Ce=U<<11|N>>>21,Oe=N<<11|U>>>21,je=q<<15|K>>>17,ze=K<<15|q>>>17,Ne=D<<29|F>>>3,Ue=F<<29|D>>>3,qe=H<<28|G>>>4,Ke=G<<28|H>>>4,Fe=W<<23|V>>>9,De=V<<23|W>>>9,He=J<<25|Z>>>7,Ge=Z<<25|J>>>7,Ve=Y<<21|$>>>11,We=$<<21|Y>>>11,Je=Q<<24|X>>>8,Ze=X<<24|Q>>>8,Ye=ee<<27|te>>>5,$e=te<<27|ee>>>5,Xe=re<<20|ne>>>12,Qe=ne<<20|re>>>12,et=oe<<7|ie>>>25,tt=ie<<7|oe>>>25,rt=ae<<8|se>>>24,nt=se<<8|ae>>>24,it=fe<<14|ce>>>18,ot=ce<<14|fe>>>18;e[0]=ue^~Me&Ce,e[1]=de^~Ae&Oe,e[10]=qe^~Xe&pe,e[11]=Ke^~Qe&be,e[20]=we^~Te&He,e[21]=_e^~Ie&Ge,e[30]=Ye^~he&ke,e[31]=$e^~le&Ee,e[40]=Le^~Fe&et,e[41]=Be^~De&tt,e[2]=Me^~Ce&Ve,e[3]=Ae^~Oe&We,e[12]=Xe^~pe&Se,e[13]=Qe^~be&xe,e[22]=Te^~He&rt,e[23]=Ie^~Ge&nt,e[32]=he^~ke&je,e[33]=le^~Ee&ze,e[42]=Fe^~et&ge,e[43]=De^~tt&ye,e[4]=Ce^~Ve&it,e[5]=Oe^~We&ot,e[14]=pe^~Se&Ne,e[15]=be^~xe&Ue,e[24]=He^~rt&me,e[25]=Ge^~nt&ve,e[34]=ke^~je&Je,e[35]=Ee^~ze&Ze,e[44]=et^~ge&Re,e[45]=tt^~ye&Pe,e[6]=Ve^~it&ue,e[7]=We^~ot&de,e[16]=Se^~Ne&qe,e[17]=xe^~Ue&Ke,e[26]=rt^~me&we,e[27]=nt^~ve&_e,e[36]=je^~Je&Ye,e[37]=ze^~Ze&$e,e[46]=ge^~Re&Le,e[47]=ye^~Pe&Be,e[8]=it^~ue&Me,e[9]=ot^~de&Ae,e[18]=Ne^~qe&Xe,e[19]=Ue^~Ke&Qe,e[28]=me^~we&Te,e[29]=ve^~_e&Ie,e[38]=Je^~Ye&he,e[39]=Ze^~$e&le,e[48]=Re^~Le&Fe,e[49]=Pe^~Be&De,e[0]^=Or[2*t],e[1]^=Or[2*t+1]}};function zr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}zr.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},zr.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(jr(this.state),this.count=0)},zr.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&jr(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,jr(this.state),this.count=0,this.squeezing=!0},zr.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=ye.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(jr(this.state),this.count=0);return t},zr.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var Nr=function(e){const t=Tr(e),r=Cr(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}(zr),Ur=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.keccak224=Ut.createHashFunction((function(){return Nr("keccak224")})),t.keccak256=Ut.createHashFunction((function(){return Nr("keccak256")})),t.keccak384=Ut.createHashFunction((function(){return Nr("keccak384")})),t.keccak512=Ut.createHashFunction((function(){return Nr("keccak512")}))}));jt(Ur),Ur.keccak224,Ur.keccak256,Ur.keccak384,Ur.keccak512;const qr="Impossible case. Please create issue.",Kr="The tweak was out of range or the resulted private key is invalid",Fr="The tweak was out of range or equal to zero",Dr="Unknow error on context randomization",Hr="Private Key is invalid",Gr="Public Key could not be parsed",Vr="Public Key serialization error",Wr="The sum of the public keys is not valid",Jr="Signature could not be parsed",Zr="The nonce generation function failed, or the private key was invalid",Yr="Public key could not be recover",$r="Scalar was invalid (zero or overflow)";function Xr(e,t){if(!e)throw new Error(t)}function Qr(e,t,r){if(Xr(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;Xr(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;Xr(t.length===r,n)}}function en(e){Xr("Boolean"===rn(e),"Expected compressed to be a Boolean")}function tn(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),Qr("output",e,t),e}function rn(e){return Object.prototype.toString.call(e).slice(8,-1)}var nn="elliptic",on="6.5.4",an="EC cryptography",sn="lib/elliptic.js",fn=["lib"],cn={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},un={type:"git",url:"git@github.com:indutny/elliptic"},dn=["EC","Elliptic","curve","Cryptography"],hn="Fedor Indutny <fedor@indutny.com>",ln={url:"https://github.com/indutny/elliptic/issues"},pn="https://github.com/indutny/elliptic",bn={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},gn={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},yn={name:nn,version:on,description:an,main:sn,files:fn,scripts:cn,repository:un,keywords:dn,author:hn,license:"MIT",bugs:ln,homepage:pn,devDependencies:bn,dependencies:gn},mn=Object.freeze({__proto__:null,name:nn,version:on,description:an,main:sn,files:fn,scripts:cn,repository:un,keywords:dn,author:hn,license:"MIT",bugs:ln,homepage:pn,devDependencies:bn,dependencies:gn,default:yn}),vn=Nt(Object.freeze({__proto__:null,default:{}})),wn=zt((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vn.Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function f(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=f(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=f(e,u,e.length,t),u=0;u<a;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,f=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var u=f>>>26,d=67108863&f,h=Math.min(c,t.length-1),l=Math.max(0,c-e.length+1);l<=h;l++){var p=c-l|0;u+=(a=(i=0|e.words[p])*(o=0|t.words[l])+d)/67108864|0,d=67108863&a}r.words[c]=0|d,f=0|u}return 0!==f?r.words[c]=0|f:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],f=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-f.length]+f+n:f+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?b+n:c[h-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,f="le"===t,c=new e(o),u=this.clone();if(f){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,a=e.words,s=t.words,f=r.words,c=0,u=0|a[0],d=8191&u,h=u>>>13,l=0|a[1],p=8191&l,b=l>>>13,g=0|a[2],y=8191&g,m=g>>>13,v=0|a[3],w=8191&v,_=v>>>13,M=0|a[4],A=8191&M,k=M>>>13,E=0|a[5],S=8191&E,x=E>>>13,R=0|a[6],P=8191&R,L=R>>>13,B=0|a[7],T=8191&B,I=B>>>13,C=0|a[8],O=8191&C,j=C>>>13,z=0|a[9],N=8191&z,U=z>>>13,q=0|s[0],K=8191&q,F=q>>>13,D=0|s[1],H=8191&D,G=D>>>13,V=0|s[2],W=8191&V,J=V>>>13,Z=0|s[3],Y=8191&Z,$=Z>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],fe=8191&se,ce=se>>>13,ue=0|s[8],de=8191&ue,he=ue>>>13,le=0|s[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(d,K))|0)+((8191&(i=(i=Math.imul(d,F))+Math.imul(h,K)|0))<<13)|0;c=((o=Math.imul(h,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,F))+Math.imul(b,K)|0,o=Math.imul(b,F);var ye=(c+(n=n+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,H)|0))<<13)|0;c=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,K),i=(i=Math.imul(y,F))+Math.imul(m,K)|0,o=Math.imul(m,F),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0;var me=(c+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(w,K),i=(i=Math.imul(w,F))+Math.imul(_,K)|0,o=Math.imul(_,F),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,J)|0;var ve=(c+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,$)|0)+Math.imul(h,Y)|0))<<13)|0;c=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,K),i=(i=Math.imul(A,F))+Math.imul(k,K)|0,o=Math.imul(k,F),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,$)|0;var we=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,K),i=(i=Math.imul(S,F))+Math.imul(x,K)|0,o=Math.imul(x,F),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,$)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(c+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,K),i=(i=Math.imul(P,F))+Math.imul(L,K)|0,o=Math.imul(L,F),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,$)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Me=(c+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(T,K),i=(i=Math.imul(T,F))+Math.imul(I,K)|0,o=Math.imul(I,F),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(L,H)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,$)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var Ae=(c+(n=n+Math.imul(d,fe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(O,K),i=(i=Math.imul(O,F))+Math.imul(j,K)|0,o=Math.imul(j,F),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,$)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,ce)|0;var ke=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,F))+Math.imul(U,K)|0,o=Math.imul(U,F),n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,$)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,he)|0;var Ee=(c+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,H),i=(i=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,$)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,he)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,J))+Math.imul(U,W)|0,o=Math.imul(U,J),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,$)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,ce)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,he)|0;var xe=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,Y),i=(i=Math.imul(N,$))+Math.imul(U,Y)|0,o=Math.imul(U,$),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,ce)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,he)|0;var Re=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(L,fe)|0,o=o+Math.imul(L,ce)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,he)|0;var Pe=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(P,de)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,he)|0;var Le=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,be)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,be)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,he)|0;var Be=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,be)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(N,fe),i=(i=Math.imul(N,ce))+Math.imul(U,fe)|0,o=Math.imul(U,ce),n=n+Math.imul(O,de)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(j,de)|0,o=o+Math.imul(j,he)|0;var Te=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,be)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,de),i=(i=Math.imul(N,he))+Math.imul(U,de)|0,o=Math.imul(U,he);var Ie=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ce=(c+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,be))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,be))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,f[0]=ge,f[1]=ye,f[2]=me,f[3]=ve,f[4]=we,f[5]=_e,f[6]=Me,f[7]=Ae,f[8]=ke,f[9]=Ee,f[10]=Se,f[11]=xe,f[12]=Re,f[13]=Pe,f[14]=Le,f[15]=Be,f[16]=Te,f[17]=Ie,f[18]=Ce,0!==c&&(f[19]=c,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,f=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=f;c++){var u=o-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;s=67108863&(h=h+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,f=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=f,h=c,l=0;l<a;l++){var p=r[u+l],b=n[u+l],g=r[u+l+a],y=n[u+l+a],m=d*g-h*y;y=d*y+h*g,g=m,r[u+l]=p+g,n[u+l]=b+y,r[u+l+a]=p-g,n[u+l+a]=b-y,l!==s&&(m=f*d-c*h,h=f*h+c*d,d=m)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),f=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,f,n,i),this.transform(c,o,u,d,n,i);for(var l=0;l<n;l++){var p=s[l]*u[l]-f[l]*d[l];f[l]=s[l]*d[l]+f[l]*u[l],s[l]=p}return this.conjugate(s,f,n),this.transform(s,f,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,f=(0|this.words[t])-s<<n;this.words[t]=f|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,f=n;if(i-=a,i=Math.max(0,i),f){for(var c=0;c<a;c++)f.words[c]=this.words[c];f.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-o|d>>>o,u=d&s}return f&&0!==u&&(f.words[f.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var f=(0|e.words[i])*t;s=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,f=n.length-o.length;if("mod"!==t){(s=new i(null)).length=f+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var u=n.clone()._ishlnsubmul(o,1,f);0===u.negative&&(n=u,s&&(s.words[f]=1));for(var d=f-1;d>=0;d--){var h=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),f=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(u),f.isub(d)),s.iushrn(1),f.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(f)):(n.isub(t),s.isub(o),f.isub(a))}return{a:s,b:f,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),f=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new M(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(m,y),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,y),n(w,y),n(_,y),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return g[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),f=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,c).cmp(f);)u.redIAdd(f);for(var d=this.pow(u,o),h=this.pow(e,o.addn(1).iushrn(1)),l=this.pow(e,o),p=a;0!==l.cmp(s);){for(var b=l,g=0;0!==b.cmp(s);g++)b=b.redSqr();r(g<p);var y=this.pow(d,new i(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),l=l.redMul(d),p=g}return h},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],u=f-1;u>=0;u--){var d=c>>u&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===u)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}f=26}return o},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,M),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,Ot)})),_n=Mn;function Mn(e,t){if(!e)throw new Error(t||"Assertion failed")}Mn.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var An,kn=zt((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),En=zt((function(e,t){var r=t;r.assert=_n,r.toArray=kn.toArray,r.zero2=kn.zero2,r.toHex=kn.toHex,r.encode=kn.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,f=o.andln(i-1);o.isOdd()?(s=f>(i>>1)-1?(i>>1)-f:f,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,f=e.andln(3)+i&3,c=t.andln(3)+o&3;3===f&&(f=-1),3===c&&(c=-1),a=0==(1&f)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?f:-f,r[0].push(a),s=0==(1&c)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==f?c:-c,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new wn(e,"hex","le")}})),Sn=function(e){return An||(An=new xn(null)),An.generate(e)};function xn(e){this.rand=e}var Rn=xn;if(xn.prototype.generate=function(e){return this._rand(e)},xn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?xn.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?xn.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(xn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Pn=vn;if("function"!=typeof Pn.randomBytes)throw new Error("Not supported");xn.prototype._rand=function(e){return Pn.randomBytes(e)}}catch(e){}Sn.Rand=Rn;var Ln=En.getNAF,Bn=En.getJSF,Tn=En.assert;function In(e,t){this.type=e,this.p=new wn(t.p,16),this.red=t.prime?wn.red(t.prime):wn.mont(this.p),this.zero=new wn(0).toRed(this.red),this.one=new wn(1).toRed(this.red),this.two=new wn(2).toRed(this.red),this.n=t.n&&new wn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Cn=In;function On(e,t){this.curve=e,this.type=t,this.precomputed=null}In.prototype.point=function(){throw new Error("Not implemented")},In.prototype.validate=function(){throw new Error("Not implemented")},In.prototype._fixedNafMul=function(e,t){Tn(e.precomputed);var r=e._getDoubles(),n=Ln(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var f=o+r.step-1;f>=o;f--)a=(a<<1)+n[f];s.push(a)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)(a=s[o])===d?u=u.mixedAdd(r.points[o]):a===-d&&(u=u.mixedAdd(r.points[o].neg()));c=c.add(u)}return c.toP()},In.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Ln(t,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var f=0;s>=0&&0===o[s];s--)f++;if(s>=0&&f++,a=a.dblp(f),s<0)break;var c=o[s];Tn(0!==c),a="affine"===e.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},In.prototype._wnafMulAdd=function(e,t,r,n,i){var o,a,s,f=this._wnafT1,c=this._wnafT2,u=this._wnafT3,d=0;for(o=0;o<n;o++){var h=(s=t[o])._getNAFPoints(e);f[o]=h.wnd,c[o]=h.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===f[l]&&1===f[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=Bn(r[l],r[p]);for(d=Math.max(y[0].length,d),u[l]=new Array(d),u[p]=new Array(d),a=0;a<d;a++){var m=0|y[0][a],v=0|y[1][a];u[l][a]=g[3*(m+1)+(v+1)],u[p][a]=0,c[l]=b}}else u[l]=Ln(r[l],f[l],this._bitLength),u[p]=Ln(r[p],f[p],this._bitLength),d=Math.max(u[l].length,d),d=Math.max(u[p].length,d)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=d;o>=0;o--){for(var M=0;o>=0;){var A=!0;for(a=0;a<n;a++)_[a]=0|u[a][o],0!==_[a]&&(A=!1);if(!A)break;M++,o--}if(o>=0&&M++,w=w.dblp(M),o<0)break;for(a=0;a<n;a++){var k=_[a];0!==k&&(k>0?s=c[a][k-1>>1]:k<0&&(s=c[a][-k-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)c[o]=null;return i?w:w.toP()},In.BasePoint=On,On.prototype.eq=function(){throw new Error("Not implemented")},On.prototype.validate=function(){return this.curve.validate(this)},In.prototype.decodePoint=function(e,t){e=En.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Tn(e[e.length-1]%2==0):7===e[0]&&Tn(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},On.prototype.encodeCompressed=function(e){return this.encode(e,!0)},On.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},On.prototype.encode=function(e,t){return En.encode(this._encode(t),e)},On.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},On.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},On.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},On.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},On.prototype._getBeta=function(){return null},On.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var jn=zt((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),zn=En.assert;function Nn(e){Cn.call(this,"short",e),this.a=new wn(e.a,16).toRed(this.red),this.b=new wn(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}jn(Nn,Cn);var Un=Nn;function qn(e,t,r,n){Cn.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new wn(t,16),this.y=new wn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Kn(e,t,r,n){Cn.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new wn(0)):(this.x=new wn(t,16),this.y=new wn(r,16),this.z=new wn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Fn(e){Cn.call(this,"mont",e),this.a=new wn(e.a,16).toRed(this.red),this.b=new wn(e.b,16).toRed(this.red),this.i4=new wn(4).toRed(this.red).redInvm(),this.two=new wn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Nn.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new wn(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new wn(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],zn(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new wn(e.a,16),b:new wn(e.b,16)}})):this._getEndoBasis(r)}}},Nn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:wn.mont(e),r=new wn(2).toRed(t).redInvm(),n=r.redNeg(),i=new wn(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Nn.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,s,f,c,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),l=new wn(1),p=new wn(0),b=new wn(0),g=new wn(1),y=0;0!==d.cmpn(0);){var m=h.div(d);f=h.sub(m.mul(d)),c=b.sub(m.mul(l));var v=g.sub(m.mul(p));if(!n&&f.cmp(u)<0)t=s.neg(),r=l,n=f.neg(),i=c;else if(n&&2==++y)break;s=f,h=d,d=f,b=l,l=c,g=p,p=v}o=f.neg(),a=c;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},Nn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),f=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:f.add(c).neg()}},Nn.prototype.pointFromX=function(e,t){(e=new wn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Nn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Nn.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],f=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),n[2*o]=s,n[2*o+1]=f,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return c},jn(qn,Cn.BasePoint),Nn.prototype.point=function(e,t,r){return new qn(this,e,t,r)},Nn.prototype.pointFromJSON=function(e,t){return qn.fromJSON(this,e,t)},qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},qn.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},qn.prototype.isInfinity=function(){return this.inf},qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},qn.prototype.getX=function(){return this.x.fromRed()},qn.prototype.getY=function(){return this.y.fromRed()},qn.prototype.mul=function(e){return e=new wn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},qn.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},qn.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},qn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},qn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},jn(Kn,Cn.BasePoint),Nn.prototype.jpoint=function(e,t,r){return new Kn(this,e,t,r)},Kn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Kn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Kn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),f=o.redSub(a);if(0===s.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(d).redISub(d),l=f.redMul(d.redISub(h)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,l,p)},Kn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),u=r.redMul(f),d=s.redSqr().redIAdd(c).redISub(u).redISub(u),h=s.redMul(u.redISub(d)).redISub(i.redMul(c)),l=this.z.redMul(a);return this.curve.jpoint(d,h,l)},Kn.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,f=s.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var u=o.redSqr(),d=c.redSqr(),h=d.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(f)),p=o.redMul(d),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),y=l.redMul(g);y=y.redIAdd(y).redISub(h);var m=c.redMul(s);t+1<e&&(f=f.redMul(h)),o=b,s=m,c=y}return this.curve.jpoint(o,c.redMul(i),s)},Kn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Kn.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),f=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=f,t=s.redMul(a.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(u).redISub(h);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Kn.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=s.redSqr().redISub(a).redISub(a);e=f;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=l.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Kn.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),f=t.redAdd(t),c=(f=f.redIAdd(f)).redMul(a),u=s.redSqr().redISub(c.redAdd(c)),d=c.redISub(u),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=s.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,l,p)},Kn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(f),u=t.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(s).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(c.redMul(f.redISub(c)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,h,l)},Kn.prototype.mul=function(e,t){return e=new wn(e,t),this.curve._wnafMul(this,e)},Kn.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Kn.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Kn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Kn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},jn(Fn,Cn);var Dn=Fn;function Hn(e,t,r){Cn.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new wn(t,16),this.z=new wn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Fn.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},jn(Hn,Cn.BasePoint),Fn.prototype.decodePoint=function(e,t){return this.point(En.toArray(e,t),1)},Fn.prototype.point=function(e,t){return new Hn(this,e,t)},Fn.prototype.pointFromJSON=function(e){return Hn.fromJSON(this,e)},Hn.prototype.precompute=function(){},Hn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Hn.fromJSON=function(e,t){return new Hn(e,t[0],t[1]||e.one)},Hn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Hn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Hn.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Hn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Hn.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),f=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,f)},Hn.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Hn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Hn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Hn.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Hn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Hn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Gn=En.assert;function Vn(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Cn.call(this,"edwards",e),this.a=new wn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new wn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new wn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Gn(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}jn(Vn,Cn);var Wn=Vn;function Jn(e,t,r,n,i){Cn.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new wn(t,16),this.y=new wn(r,16),this.z=n?new wn(n,16):this.curve.one,this.t=i&&new wn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Vn.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Vn.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Vn.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},Vn.prototype.pointFromX=function(e,t){(e=new wn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var s=a.fromRed().isOdd();return(t&&!s||!t&&s)&&(a=a.redNeg()),this.point(e,a)},Vn.prototype.pointFromY=function(e,t){(e=new wn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},Vn.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},jn(Jn,Cn.BasePoint),Vn.prototype.pointFromJSON=function(e){return Jn.fromJSON(this,e)},Vn.prototype.point=function(e,t,r,n){return new Jn(this,e,t,r,n)},Jn.fromJSON=function(e,t){return new Jn(e,t[0],t[1],t[2])},Jn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Jn.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Jn.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),f=i.redMul(a),c=o.redMul(s),u=i.redMul(s),d=a.redMul(o);return this.curve.point(f,c,d,u)},Jn.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),f=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(f);this.zOne?(e=a.redSub(s).redSub(f).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(f)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=a.redSub(s).redISub(f).redMul(o),t=c.redMul(n.redSub(f)),r=c.redMul(o))}else n=s.redAdd(f),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(f)),r=n.redMul(o);return this.curve.point(e,t,r)},Jn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Jn.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),f=r.redAdd(t),c=o.redMul(a),u=s.redMul(f),d=o.redMul(f),h=a.redMul(s);return this.curve.point(c,u,h,d)},Jn.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),f=i.redSub(s),c=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(f).redMul(u);return this.curve.twisted?(t=n.redMul(c).redMul(a.redSub(this.curve._mulA(o))),r=f.redMul(c)):(t=n.redMul(c).redMul(a.redSub(o)),r=this.curve._mulC(f).redMul(c)),this.curve.point(d,t,r)},Jn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Jn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Jn.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Jn.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Jn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Jn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Jn.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Jn.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Jn.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Jn.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Jn.prototype.toP=Jn.prototype.normalize,Jn.prototype.mixedAdd=Jn.prototype.add;var Zn=zt((function(e,t){var r=t;r.base=Cn,r.short=Un,r.mont=Dn,r.edwards=Wn}));function Yn(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function $n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Xn(e){return 1===e.length?"0"+e:e}function Qn(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var ei={inherits:jn,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):Yn(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=Xn(e[r].toString(16));return t},htonl:$n,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=$n(i)),r+=Qn(i.toString(16))}return r},zero2:Xn,zero8:Qn,join32:function(e,t,r,n){var i=r-t;_n(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var f;f="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=f>>>0}return o},split32:function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,o,a,s){var f=0,c=t;return f+=(c=c+n>>>0)<t?1:0,f+=(c=c+o>>>0)<o?1:0,e+r+i+a+(f+=(c=c+s>>>0)<s?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},sum64_5_hi:function(e,t,r,n,i,o,a,s,f,c){var u=0,d=t;return u+=(d=d+n>>>0)<t?1:0,u+=(d=d+o>>>0)<o?1:0,u+=(d=d+s>>>0)<s?1:0,e+r+i+a+f+(u+=(d=d+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,o,a,s,f,c){return t+n+o+s+c>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function ti(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var ri=ti;ti.prototype.update=function(e,t){if(e=ei.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=ei.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},ti.prototype.digest=function(e){return this.update(this._pad()),_n(null===this.pending),this._digest(e)},ti.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var ni={BlockHash:ri},ii=ei.rotr32;function oi(e,t,r){return e&t^~e&r}function ai(e,t,r){return e&t^e&r^t&r}function si(e,t,r){return e^t^r}var fi={ft_1:function(e,t,r,n){return 0===e?oi(t,r,n):1===e||3===e?si(t,r,n):2===e?ai(t,r,n):void 0},ch32:oi,maj32:ai,p32:si,s0_256:function(e){return ii(e,2)^ii(e,13)^ii(e,22)},s1_256:function(e){return ii(e,6)^ii(e,11)^ii(e,25)},g0_256:function(e){return ii(e,7)^ii(e,18)^e>>>3},g1_256:function(e){return ii(e,17)^ii(e,19)^e>>>10}},ci=ei.rotl32,ui=ei.sum32,di=ei.sum32_5,hi=fi.ft_1,li=ni.BlockHash,pi=[1518500249,1859775393,2400959708,3395469782];function bi(){if(!(this instanceof bi))return new bi;li.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ei.inherits(bi,li);var gi=bi;bi.blockSize=512,bi.outSize=160,bi.hmacStrength=80,bi.padLength=64,bi.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ci(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),u=di(ci(i,5),hi(c,o,a,s),f,r[n],pi[c]);f=s,s=a,a=ci(o,30),o=i,i=u}this.h[0]=ui(this.h[0],i),this.h[1]=ui(this.h[1],o),this.h[2]=ui(this.h[2],a),this.h[3]=ui(this.h[3],s),this.h[4]=ui(this.h[4],f)},bi.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h,"big"):ei.split32(this.h,"big")};var yi=ei.sum32,mi=ei.sum32_4,vi=ei.sum32_5,wi=fi.ch32,_i=fi.maj32,Mi=fi.s0_256,Ai=fi.s1_256,ki=fi.g0_256,Ei=fi.g1_256,Si=ni.BlockHash,xi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ri(){if(!(this instanceof Ri))return new Ri;Si.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=xi,this.W=new Array(64)}ei.inherits(Ri,Si);var Pi=Ri;function Li(){if(!(this instanceof Li))return new Li;Pi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ri.blockSize=512,Ri.outSize=256,Ri.hmacStrength=192,Ri.padLength=64,Ri.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=mi(Ei(r[n-2]),r[n-7],ki(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],d=this.h[7];for(_n(this.k.length===r.length),n=0;n<r.length;n++){var h=vi(d,Ai(f),wi(f,c,u),this.k[n],r[n]),l=yi(Mi(i),_i(i,o,a));d=u,u=c,c=f,f=yi(s,h),s=a,a=o,o=i,i=yi(h,l)}this.h[0]=yi(this.h[0],i),this.h[1]=yi(this.h[1],o),this.h[2]=yi(this.h[2],a),this.h[3]=yi(this.h[3],s),this.h[4]=yi(this.h[4],f),this.h[5]=yi(this.h[5],c),this.h[6]=yi(this.h[6],u),this.h[7]=yi(this.h[7],d)},Ri.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h,"big"):ei.split32(this.h,"big")},ei.inherits(Li,Pi);var Bi=Li;Li.blockSize=512,Li.outSize=224,Li.hmacStrength=192,Li.padLength=64,Li.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h.slice(0,7),"big"):ei.split32(this.h.slice(0,7),"big")};var Ti=ei.rotr64_hi,Ii=ei.rotr64_lo,Ci=ei.shr64_hi,Oi=ei.shr64_lo,ji=ei.sum64,zi=ei.sum64_hi,Ni=ei.sum64_lo,Ui=ei.sum64_4_hi,qi=ei.sum64_4_lo,Ki=ei.sum64_5_hi,Fi=ei.sum64_5_lo,Di=ni.BlockHash,Hi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Gi(){if(!(this instanceof Gi))return new Gi;Di.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Hi,this.W=new Array(160)}ei.inherits(Gi,Di);var Vi=Gi;function Wi(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Ji(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function Zi(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Yi(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function $i(e,t){var r=Ti(e,t,28)^Ti(t,e,2)^Ti(t,e,7);return r<0&&(r+=4294967296),r}function Xi(e,t){var r=Ii(e,t,28)^Ii(t,e,2)^Ii(t,e,7);return r<0&&(r+=4294967296),r}function Qi(e,t){var r=Ti(e,t,14)^Ti(e,t,18)^Ti(t,e,9);return r<0&&(r+=4294967296),r}function eo(e,t){var r=Ii(e,t,14)^Ii(e,t,18)^Ii(t,e,9);return r<0&&(r+=4294967296),r}function to(e,t){var r=Ti(e,t,1)^Ti(e,t,8)^Ci(e,t,7);return r<0&&(r+=4294967296),r}function ro(e,t){var r=Ii(e,t,1)^Ii(e,t,8)^Oi(e,t,7);return r<0&&(r+=4294967296),r}function no(e,t){var r=Ti(e,t,19)^Ti(t,e,29)^Ci(e,t,6);return r<0&&(r+=4294967296),r}function io(e,t){var r=Ii(e,t,19)^Ii(t,e,29)^Oi(e,t,6);return r<0&&(r+=4294967296),r}function oo(){if(!(this instanceof oo))return new oo;Vi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Gi.blockSize=1024,Gi.outSize=512,Gi.hmacStrength=192,Gi.padLength=128,Gi.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=no(r[n-4],r[n-3]),o=io(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],f=to(r[n-30],r[n-29]),c=ro(r[n-30],r[n-29]),u=r[n-32],d=r[n-31];r[n]=Ui(i,o,a,s,f,c,u,d),r[n+1]=qi(i,o,a,s,f,c,u,d)}},Gi.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],f=this.h[5],c=this.h[6],u=this.h[7],d=this.h[8],h=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],g=this.h[13],y=this.h[14],m=this.h[15];_n(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=y,_=m,M=Qi(d,h),A=eo(d,h),k=Wi(d,h,l,p,b),E=Ji(d,h,l,p,b,g),S=this.k[v],x=this.k[v+1],R=r[v],P=r[v+1],L=Ki(w,_,M,A,k,E,S,x,R,P),B=Fi(w,_,M,A,k,E,S,x,R,P);w=$i(n,i),_=Xi(n,i),M=Zi(n,i,o,a,s),A=Yi(n,i,o,a,s,f);var T=zi(w,_,M,A),I=Ni(w,_,M,A);y=b,m=g,b=l,g=p,l=d,p=h,d=zi(c,u,L,B),h=Ni(u,u,L,B),c=s,u=f,s=o,f=a,o=n,a=i,n=zi(L,B,T,I),i=Ni(L,B,T,I)}ji(this.h,0,n,i),ji(this.h,2,o,a),ji(this.h,4,s,f),ji(this.h,6,c,u),ji(this.h,8,d,h),ji(this.h,10,l,p),ji(this.h,12,b,g),ji(this.h,14,y,m)},Gi.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h,"big"):ei.split32(this.h,"big")},ei.inherits(oo,Vi);var ao=oo;oo.blockSize=1024,oo.outSize=384,oo.hmacStrength=192,oo.padLength=128,oo.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h.slice(0,12),"big"):ei.split32(this.h.slice(0,12),"big")};var so={sha1:gi,sha224:Bi,sha256:Pi,sha384:ao,sha512:Vi},fo=ei.rotl32,co=ei.sum32,uo=ei.sum32_3,ho=ei.sum32_4,lo=ni.BlockHash;function po(){if(!(this instanceof po))return new po;lo.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ei.inherits(po,lo);var bo=po;function go(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function yo(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function mo(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}po.blockSize=512,po.outSize=160,po.hmacStrength=192,po.padLength=64,po.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,f=n,c=i,u=o,d=a,h=0;h<80;h++){var l=co(fo(ho(r,go(h,n,i,o),e[vo[h]+t],yo(h)),_o[h]),a);r=a,a=o,o=fo(i,10),i=n,n=l,l=co(fo(ho(s,go(79-h,f,c,u),e[wo[h]+t],mo(h)),Mo[h]),d),s=d,d=u,u=fo(c,10),c=f,f=l}l=uo(this.h[1],i,u),this.h[1]=uo(this.h[2],o,d),this.h[2]=uo(this.h[3],a,s),this.h[3]=uo(this.h[4],r,f),this.h[4]=uo(this.h[0],n,c),this.h[0]=l},po.prototype._digest=function(e){return"hex"===e?ei.toHex32(this.h,"little"):ei.split32(this.h,"little")};var vo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],wo=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Mo=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ao={ripemd160:bo};function ko(e,t,r){if(!(this instanceof ko))return new ko(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ei.toArray(t,r))}var Eo=ko;ko.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),_n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},ko.prototype.update=function(e,t){return this.inner.update(e,t),this},ko.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var So=zt((function(e,t){var r=t;r.utils=ei,r.common=ni,r.sha=so,r.ripemd=Ao,r.hmac=Eo,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),xo={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Ro=zt((function(e,t){var r,n=t,i=En.assert;function o(e){"short"===e.type?this.curve=new Zn.short(e):"edwards"===e.type?this.curve=new Zn.edwards(e):this.curve=new Zn.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:So.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:So.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:So.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:So.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:So.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:So.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:So.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=xo}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:So.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Po(e){if(!(this instanceof Po))return new Po(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=kn.toArray(e.entropy,e.entropyEnc||"hex"),r=kn.toArray(e.nonce,e.nonceEnc||"hex"),n=kn.toArray(e.pers,e.persEnc||"hex");_n(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Lo=Po;Po.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Po.prototype._hmac=function(){return new So.hmac(this.hash,this.K)},Po.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Po.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=kn.toArray(e,t),r=kn.toArray(r,n),_n(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Po.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=kn.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,kn.encode(o,t)};var Bo=En.assert;function To(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Io=To;To.fromPublic=function(e,t,r){return t instanceof To?t:new To(e,{pub:t,pubEnc:r})},To.fromPrivate=function(e,t,r){return t instanceof To?t:new To(e,{priv:t,privEnc:r})},To.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},To.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},To.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},To.prototype._importPrivate=function(e,t){this.priv=new wn(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},To.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Bo(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Bo(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},To.prototype.derive=function(e){return e.validate()||Bo(e.validate(),"public point not validated"),e.mul(this.priv).getX()},To.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},To.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},To.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Co=En.assert;function Oo(e,t){if(e instanceof Oo)return e;this._importDER(e,t)||(Co(e.r&&e.s,"Signature without r or s"),this.r=new wn(e.r,16),this.s=new wn(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var jo=Oo;function zo(){this.place=0}function No(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function Uo(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function qo(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Oo.prototype._importDER=function(e,t){e=En.toArray(e,t);var r=new zo;if(48!==e[r.place++])return!1;var n=No(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=No(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=No(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new wn(o),this.s=new wn(s),this.recoveryParam=null,!0},Oo.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Uo(t),r=Uo(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];qo(n,t.length),(n=n.concat(t)).push(2),qo(n,r.length);var i=n.concat(r),o=[48];return qo(o,i.length),o=o.concat(i),En.encode(o,e)};var Ko=En.assert;function Fo(e){if(!(this instanceof Fo))return new Fo(e);"string"==typeof e&&(Ko(Object.prototype.hasOwnProperty.call(Ro,e),"Unknown curve "+e),e=Ro[e]),e instanceof Ro.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Do=Fo;Fo.prototype.keyPair=function(e){return new Io(this,e)},Fo.prototype.keyFromPrivate=function(e,t){return Io.fromPrivate(this,e,t)},Fo.prototype.keyFromPublic=function(e,t){return Io.fromPublic(this,e,t)},Fo.prototype.genKeyPair=function(e){e||(e={});for(var t=new Lo({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Sn(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new wn(2));;){var i=new wn(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Fo.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Fo.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new wn(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new Lo({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),f=this.n.sub(new wn(1)),c=0;;c++){var u=n.k?n.k(c):new wn(s.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(f)>=0)){var d=this.g.mul(u);if(!d.isInfinity()){var h=d.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=u.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(d.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new jo({r:l,s:p,recoveryParam:b})}}}}}},Fo.prototype.verify=function(e,t,r,n){e=this._truncateToN(new wn(e,16)),r=this.keyFromPublic(r,n);var i=(t=new jo(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),f=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(f,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Fo.prototype.recoverPubKey=function(e,t,r,n){Ko((3&r)===r,"The recovery param is more than two bits"),t=new jo(t,n);var i=this.n,o=new wn(e),a=t.r,s=t.s,f=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var u=t.r.invm(i),d=i.sub(o).mul(u).umod(i),h=s.mul(u).umod(i);return this.g.mulAdd(d,a,h)},Fo.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new jo(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ho=En.assert,Go=En.parseBytes,Vo=En.cachedProperty;function Wo(e,t){this.eddsa=e,this._secret=Go(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Go(t.pub)}Wo.fromPublic=function(e,t){return t instanceof Wo?t:new Wo(e,{pub:t})},Wo.fromSecret=function(e,t){return t instanceof Wo?t:new Wo(e,{secret:t})},Wo.prototype.secret=function(){return this._secret},Vo(Wo,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Vo(Wo,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Vo(Wo,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Vo(Wo,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Vo(Wo,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Vo(Wo,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Wo.prototype.sign=function(e){return Ho(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Wo.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Wo.prototype.getSecret=function(e){return Ho(this._secret,"KeyPair is public only"),En.encode(this.secret(),e)},Wo.prototype.getPublic=function(e){return En.encode(this.pubBytes(),e)};var Jo=Wo,Zo=En.assert,Yo=En.cachedProperty,$o=En.parseBytes;function Xo(e,t){this.eddsa=e,"object"!=typeof t&&(t=$o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Zo(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof wn&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Yo(Xo,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Yo(Xo,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Yo(Xo,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Yo(Xo,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Xo.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Xo.prototype.toHex=function(){return En.encode(this.toBytes(),"hex").toUpperCase()};var Qo=Xo,ea=En.assert,ta=En.parseBytes;function ra(e){if(ea("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof ra))return new ra(e);e=Ro[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=So.sha512}var na=ra;ra.prototype.sign=function(e,t){e=ta(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),s=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},ra.prototype.verify=function(e,t,r){e=ta(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},ra.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return En.intFromLE(e.digest()).umod(this.curve.n)},ra.prototype.keyFromPublic=function(e){return Jo.fromPublic(this,e)},ra.prototype.keyFromSecret=function(e){return Jo.fromSecret(this,e)},ra.prototype.makeSignature=function(e){return e instanceof Qo?e:new Qo(this,e)},ra.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},ra.prototype.decodePoint=function(e){var t=(e=En.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=En.intFromLE(r);return this.curve.pointFromY(i,n)},ra.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},ra.prototype.decodeInt=function(e){return En.intFromLE(e)},ra.prototype.isPoint=function(e){return e instanceof this.pointClass};var ia=Nt(mn),oa=zt((function(e,t){var r=t;r.version=ia.version,r.utils=En,r.rand=Sn,r.curve=Zn,r.curves=Ro,r.ec=Do,r.eddsa=na}));const aa=new(0,oa.ec)("secp256k1"),sa=aa.curve,fa=sa.n.constructor;function ca(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new fa(t);if(r.cmp(sa.p)>=0)return null;r=r.toRed(sa.red);let n=r.redSqr().redIMul(r).redIAdd(sa.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),aa.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let n=new fa(t),i=new fa(r);if(n.cmp(sa.p)>=0||i.cmp(sa.p)>=0)return null;if(n=n.toRed(sa.red),i=i.toRed(sa.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(sa.b)).isZero()?aa.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function ua(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}var da=(e=>({contextRandomize(t){switch(Xr(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&Qr("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(Dr)}},privateKeyVerify:t=>(Qr("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(Qr("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(qr)}},privateKeyTweakAdd(t,r){switch(Qr("private key",t,32),Qr("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(Kr)}},privateKeyTweakMul(t,r){switch(Qr("private key",t,32),Qr("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(Fr)}},publicKeyVerify:t=>(Qr("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(Qr("private key",t,32),en(r),n=tn(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(Hr);case 2:throw new Error(Vr)}},publicKeyConvert(t,r=!0,n){switch(Qr("public key",t,[33,65]),en(r),n=tn(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(Gr);case 2:throw new Error(Vr)}},publicKeyNegate(t,r=!0,n){switch(Qr("public key",t,[33,65]),en(r),n=tn(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(Gr);case 2:throw new Error(qr);case 3:throw new Error(Vr)}},publicKeyCombine(t,r=!0,n){Xr(Array.isArray(t),"Expected public keys to be an Array"),Xr(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)Qr("public key",e,[33,65]);switch(en(r),n=tn(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(Gr);case 2:throw new Error(Wr);case 3:throw new Error(Vr)}},publicKeyTweakAdd(t,r,n=!0,i){switch(Qr("public key",t,[33,65]),Qr("tweak",r,32),en(n),i=tn(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(Gr);case 2:throw new Error(Kr)}},publicKeyTweakMul(t,r,n=!0,i){switch(Qr("public key",t,[33,65]),Qr("tweak",r,32),en(n),i=tn(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(Gr);case 2:throw new Error(Fr)}},signatureNormalize(t){switch(Qr("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(Jr)}},signatureExport(t,r){Qr("signature",t,64);const n={output:r=tn(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Jr);case 2:throw new Error(qr)}},signatureImport(t,r){switch(Qr("signature",t),r=tn(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(Jr);case 2:throw new Error(qr)}},ecdsaSign(t,r,n={},i){Qr("message",t,32),Qr("private key",r,32),Xr("Object"===rn(n),"Expected options to be an Object"),void 0!==n.data&&Qr("options.data",n.data),void 0!==n.noncefn&&Xr("Function"===rn(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=tn(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(Zr);case 2:throw new Error(qr)}},ecdsaVerify(t,r,n){switch(Qr("signature",t,64),Qr("message",r,32),Qr("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Jr);case 2:throw new Error(Gr)}},ecdsaRecover(t,r,n,i=!0,o){switch(Qr("signature",t,64),Xr("Number"===rn(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Qr("message",n,32),en(i),o=tn(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(Jr);case 2:throw new Error(Yr);case 3:throw new Error(qr)}},ecdh(t,r,n={},i){switch(Qr("public key",t,[33,65]),Qr("private key",r,32),Xr("Object"===rn(n),"Expected options to be an Object"),void 0!==n.data&&Qr("options.data",n.data),void 0!==n.hashfn?(Xr("Function"===rn(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&Qr("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&Qr("options.ybuf",n.ybuf,32),Qr("output",i)):i=tn(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(Gr);case 2:throw new Error($r)}}}))({contextRandomize:()=>0,privateKeyVerify(e){const t=new fa(e);return t.cmp(sa.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new fa(e),r=sa.n.sub(t).umod(sa.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new fa(t);if(r.cmp(sa.n)>=0)return 1;if(r.iadd(new fa(e)),r.cmp(sa.n)>=0&&r.isub(sa.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new fa(t);if(r.cmp(sa.n)>=0||r.isZero())return 1;r.imul(new fa(e)),r.cmp(sa.n)>=0&&(r=r.umod(sa.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===ca(e)?1:0,publicKeyCreate(e,t){const r=new fa(t);if(r.cmp(sa.n)>=0||r.isZero())return 1;return ua(e,aa.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=ca(t);if(null===r)return 1;return ua(e,r.getPublic()),0},publicKeyNegate(e,t){const r=ca(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),ua(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=ca(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(ua(e,n),0)},publicKeyTweakAdd(e,t,r){const n=ca(t);if(null===n)return 1;if((r=new fa(r)).cmp(sa.n)>=0)return 2;const i=n.getPublic().add(sa.g.mul(r));return i.isInfinity()?2:(ua(e,i),0)},publicKeyTweakMul(e,t,r){const n=ca(t);if(null===n)return 1;if((r=new fa(r)).cmp(sa.n)>=0||r.isZero())return 2;return ua(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new fa(e.subarray(0,32)),r=new fa(e.subarray(32,64));return t.cmp(sa.n)>=0||r.cmp(sa.n)>=0?1:(1===r.cmp(aa.nh)&&e.set(sa.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new fa(r).cmp(sa.n)>=0)return 1;if(new fa(n).cmp(sa.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let a=33,s=0;for(;a>1&&0===o[s]&&!(128&o[s+1]);--a,++s);if(o=o.subarray(s),128&o[0])return 1;if(a>1&&0===o[0]&&!(128&o[1]))return 1;let f=i.subarray(39,72);f[0]=0,f.set(n,1);let c=33,u=0;for(;c>1&&0===f[u]&&!(128&f[u+1]);--c,++u);return f=f.subarray(u),128&f[0]||c>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+a+c,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=f.length,i.set(f,6+a),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let a=new fa(i);a.cmp(sa.n)>=0&&(a=new fa(0));let s=new fa(t.subarray(6+r));return s.cmp(sa.n)>=0&&(s=new fa(0)),e.set(a.toArrayLike(Uint8Array,"be",32),0),e.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new fa(o)}}const o=new fa(r);if(o.cmp(sa.n)>=0||o.isZero())return 1;let a;try{a=aa.sign(t,r,{canonical:!0,k:i,pers:n})}catch(e){return 1}return e.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),e.recid=a.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new fa(n.r),o=new fa(n.s);if(i.cmp(sa.n)>=0||o.cmp(sa.n)>=0)return 1;if(1===o.cmp(aa.nh)||i.isZero()||o.isZero())return 3;const a=ca(r);if(null===a)return 2;const s=a.getPublic();return aa.verify(t,n,s)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new fa(i.r),a=new fa(i.s);if(o.cmp(sa.n)>=0||a.cmp(sa.n)>=0)return 1;if(o.isZero()||a.isZero())return 2;let s;try{s=aa.recoverPubKey(n,i,r)}catch(e){return 2}return ua(e,s),0},ecdh(e,t,r,n,i,o,a){const s=ca(t);if(null===s)return 1;const f=new fa(r);if(f.cmp(sa.n)>=0||f.isZero())return 2;const c=s.getPublic().mul(f);if(void 0===i){const t=c.encode(null,!0),r=aa.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{o||(o=new Uint8Array(32));const t=c.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];a||(a=new Uint8Array(32));const r=c.getY().toArray("be",32);for(let e=0;e<32;++e)a[e]=r[e];const s=i(o,a,n);if(!(s instanceof Uint8Array&&s.length===e.length))return 2;e.set(s)}return 0}}),ha=zt((function(e,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=rt.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=rt:(n(rt,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return rt.SlowBuffer(e)}}));ha.Buffer;var la=zt((function(e){var t=65536,r=4294967295;var n=ha.Buffer,i=Ot.crypto||Ot.msCrypto;i&&i.getRandomValues?e.exports=function(e,o){if(e>r)throw new RangeError("requested too many random bytes");var a=n.allocUnsafe(e);if(e>0)if(e>t)for(var s=0;s<e;s+=t)i.getRandomValues(a.slice(s,s+t));else i.getRandomValues(a);if("function"==typeof o)return E.nextTick((function(){o(null,a)}));return a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),pa=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomBytes=function(e){return new Promise((function(t,r){la(e,(function(e,n){e?r(e):t(n)}))}))},t.getRandomBytesSync=function(e){return la(e)}}));jt(pa),pa.getRandomBytes,pa.getRandomBytesSync;var ba=zt((function(e,t){var r=Ot&&Ot.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{f(n.next(e))}catch(e){o(e)}}function s(e){try{f(n.throw(e))}catch(e){o(e)}}function f(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,s)}f((n=n.apply(e,t||[])).next())}))},n=Ot&&Ot.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});t.createPrivateKey=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,pa.getRandomBytes(32)];case 1:return e=t.sent(),da.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=pa.getRandomBytesSync(32);if(da.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(da)}));jt(ba),ba.createPrivateKey,ba.createPrivateKeySync;var ga=new(0,oa.ec)("secp256k1"),ya=ga.curve,ma=function(e,t,r){var n=void 0;return r?((n=ye.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(ye,"be",32).copy(n,1)):((n=ye.alloc(65))[0]=4,e.toArrayLike(ye,"be",32).copy(n,1),t.toArrayLike(ye,"be",32).copy(n,33)),n},va=function(e,t){var r=new wn(e);if(r.ucmp(ya.n)>=0)throw new Error("couldn't export to DER format");var n=ga.g.mul(r);return ma(n.getX(),n.getY(),t)},wa=function(e){var t=new wn(e);if(t.ucmp(ya.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(ya.n).toArrayLike(ye,"be",32)},_a=function(e){var t=new wn(e.r);t.ucmp(ya.n)>=0&&(t=new wn(0));var r=new wn(e.s);return r.ucmp(ya.n)>=0&&(r=new wn(0)),ye.concat([t.toArrayLike(ye,"be",32),r.toArrayLike(ye,"be",32)])},Ma=function(e,t,r){var n=ga.keyFromPublic(e),i=new wn(t);if(i.ucmp(ya.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return ma(o.getX(),o.getY(),r)},Aa=ye.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ka=ye.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ea=function(e,t,r){var n=ye.from(r?Aa:ka);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},Sa=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},xa=function(e){var t=ye.alloc(32,0),r=ye.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var f=e[i++];if(128&f){if(i+(o=f-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(f=0;o>0;i+=1,o-=1)f=(f<<8)+e[i]}if(f>n-i)return null;var c=i;for(i+=f;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var u=e.slice(s,s+a);for(u.copy(t,32-u.length);f>0&&0===e[c];f-=1,c+=1);if(f>32)return null;var d=e.slice(c,c+f);return d.copy(r,32-d.length),{r:t,s:r}},Ra=function(e){return 32===e.length&&ba.privateKeyVerify(Uint8Array.from(e))},Pa={privateKeyVerify:Ra,privateKeyExport:function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=va(e,t);return Ea(e,r,t)},privateKeyImport:function(e){if(null!==(e=Sa(e))&&32===e.length&&Ra(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return ye.from(ba.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");return ye.from(wa(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,t){return ye.from(ba.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul:function(e,t){return ye.from(ba.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate:function(e,t){return ye.from(ba.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert:function(e,t){return ye.from(ba.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&ba.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,t,r){return ye.from(ba.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyTweakMul:function(e,t,r){return ye.from(ba.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyCombine:function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),ye.from(ba.publicKeyCombine(r,t))},signatureNormalize:function(e){return ye.from(ba.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return ye.from(ba.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return ye.from(ba.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=xa(e);if(null===t)throw new Error("couldn't parse DER signature");return _a(t)},sign:function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,i,o){var a=null!=n?ye.from(n):null,s=null!=i?ye.from(i):null,f=ye.from("");return r.noncefn&&(f=r.noncefn(ye.from(e),ye.from(t),a,s,o)),Uint8Array.from(f)})}var i=ba.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:ye.from(i.signature),recovery:i.recid}},verify:function(e,t,r){return ba.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,t,r,n){return ye.from(ba.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},ecdh:function(e,t){return ye.from(ba.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe:function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return ye.from(Ma(Uint8Array.from(e),Uint8Array.from(t),r))}};function La(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var Ba,Ta=Object.prototype.hasOwnProperty,Ia=Object.keys||function(e){var t=[];for(var r in e)Ta.call(e,r)&&t.push(r);return t},Ca=Array.prototype.slice;function Oa(){return void 0!==Ba?Ba:Ba="foo"===function(){}.name}function ja(e){return Object.prototype.toString.call(e)}function za(t){return!et(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function Na(e,t){e||Ha(e,!0,t,"==",Ga)}var Ua=/\s*function\s+([^\(\s]*)\s*/;function qa(e){if(St(e)){if(Oa())return e.name;var t=e.toString().match(Ua);return t&&t[1]}}function Ka(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return Fa(Da(e.actual),128)+" "+e.operator+" "+Fa(Da(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||Ha;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=qa(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}}function Fa(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function Da(e){if(Oa()||!St(e))return ut(e);var t=qa(e);return"[Function"+(t?": "+t:"")+"]"}function Ha(e,t,r,n,i){throw new Ka({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function Ga(e,t){e||Ha(e,!0,t,"==",Ga)}function Va(e,t,r,n){if(e===t)return!0;if(et(e)&&et(t))return 0===La(e,t);if(kt(e)&&kt(t))return e.getTime()===t.getTime();if(Mt(e)&&Mt(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(za(e)&&za(t)&&ja(e)===ja(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===La(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(et(e)!==et(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(xt(e)||xt(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=Wa(e),o=Wa(t);if(i&&!o||!i&&o)return!1;if(i)return Va(e=Ca.call(e),t=Ca.call(t),r);var a,s,f=Ia(e),c=Ia(t);if(f.length!==c.length)return!1;for(f.sort(),c.sort(),s=f.length-1;s>=0;s--)if(f[s]!==c[s])return!1;for(s=f.length-1;s>=0;s--)if(!Va(e[a=f[s]],t[a],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function Wa(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function Ja(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function Za(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&Ha(i,r,"Missing expected exception"+n);var o="string"==typeof n,a=!e&&i&&!r;if((!e&&Et(i)&&o&&Ja(i,r)||a)&&Ha(i,r,"Got unwanted exception"+n),e&&i&&r&&!Ja(i,r)||!e&&i)throw i}Na.AssertionError=Ka,nt(Ka,Error),Na.fail=Ha,Na.ok=Ga,Na.equal=function e(t,r,n){t!=r&&Ha(t,r,n,"==",e)},Na.notEqual=function e(t,r,n){t==r&&Ha(t,r,n,"!=",e)},Na.deepEqual=function e(t,r,n){Va(t,r,!1)||Ha(t,r,n,"deepEqual",e)},Na.deepStrictEqual=function e(t,r,n){Va(t,r,!0)||Ha(t,r,n,"deepStrictEqual",e)},Na.notDeepEqual=function e(t,r,n){Va(t,r,!1)&&Ha(t,r,n,"notDeepEqual",e)},Na.notDeepStrictEqual=function e(t,r,n){Va(t,r,!0)&&Ha(t,r,n,"notDeepStrictEqual",e)},Na.strictEqual=function e(t,r,n){t!==r&&Ha(t,r,n,"===",e)},Na.notStrictEqual=function e(t,r,n){t===r&&Ha(t,r,n,"!==",e)},Na.throws=function(e,t,r){Za(!0,e,t,r)},Na.doesNotThrow=function(e,t,r){Za(!1,e,t,r)},Na.ifError=function(e){if(e)throw e};var Ya=zt((function(e,t){function r(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function n(e,t){if(e<56)return ye.from([e+t]);var r=a(e),n=a(t+55+r.length/2);return ye.from(n+r,"hex")}function i(e){var t,n,o,a,s,f=[],c=e[0];if(c<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(c<=183){if(t=c-127,o=128===c?ye.from([]):e.slice(1,t),2===t&&o[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:o,remainder:e.slice(t)}}if(c<=191){if(n=c-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if((t=r(e.slice(1,n).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((o=e.slice(n,t+n)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:o,remainder:e.slice(t+n)}}if(c<=247){for(t=c-191,a=e.slice(1,t);a.length;)s=i(a),f.push(s.data),a=s.remainder;return{data:f,remainder:e.slice(t)}}var u=(n=c-246)+(t=r(e.slice(1,n).toString("hex"),16));if(u>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(a=e.slice(n,u)).length)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)s=i(a),f.push(s.data),a=s.remainder;return{data:f,remainder:e.slice(u)}}function o(e){return"0x"===e.slice(0,2)}function a(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function s(e){if(!ye.isBuffer(e)){if("string"==typeof e)return o(e)?ye.from((r=function(e){return"string"!=typeof e?e:o(e)?e.slice(2):e}(e)).length%2?"0"+r:r,"hex"):ye.from(e);if("number"==typeof e||"bigint"==typeof e)return e?(t=a(e),ye.from(t,"hex")):ye.from([]);if(null==e)return ye.from([]);if(e instanceof Uint8Array)return ye.from(e);if(wn.isBN(e))return ye.from(e.toArray());throw new Error("invalid type")}var t,r;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getLength=t.decode=t.encode=void 0,t.encode=function e(t){if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++)r.push(e(t[i]));var o=ye.concat(r);return ye.concat([n(o.length,192),o])}var a=s(t);return 1===a.length&&a[0]<128?a:ye.concat([n(a.length,128),a])},t.decode=function(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return ye.from([]);var r=i(s(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},t.getLength=function(e){if(!e||0===e.length)return ye.from([]);var t=s(e),n=t[0];if(n<=127)return t.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var i=n-246;return i+r(t.slice(1,i).toString("hex"),16)}}));jt(Ya),Ya.getLength,Ya.decode,Ya.encode;var $a=ha.Buffer,Xa=Lr.Transform;function Qa(e){Xa.call(this),this._block=$a.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}jn(Qa,Xa),Qa.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},Qa.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},Qa.prototype.update=function(e,t){if(function(e,t){if(!$a.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");$a.isBuffer(e)||(e=$a.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},Qa.prototype._update=function(){throw new Error("_update is not implemented")},Qa.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},Qa.prototype._digest=function(){throw new Error("_digest is not implemented")};var es=Qa,ts=ha.Buffer,rs=new Array(16);function ns(){es.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function is(e,t){return e<<t|e>>>32-t}function os(e,t,r,n,i,o,a){return is(e+(t&r|~t&n)+i+o|0,a)+t|0}function as(e,t,r,n,i,o,a){return is(e+(t&n|r&~n)+i+o|0,a)+t|0}function ss(e,t,r,n,i,o,a){return is(e+(t^r^n)+i+o|0,a)+t|0}function fs(e,t,r,n,i,o,a){return is(e+(r^(t|~n))+i+o|0,a)+t|0}jn(ns,es),ns.prototype._update=function(){for(var e=rs,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=os(r,n,i,o,e[0],3614090360,7),o=os(o,r,n,i,e[1],3905402710,12),i=os(i,o,r,n,e[2],606105819,17),n=os(n,i,o,r,e[3],3250441966,22),r=os(r,n,i,o,e[4],4118548399,7),o=os(o,r,n,i,e[5],1200080426,12),i=os(i,o,r,n,e[6],2821735955,17),n=os(n,i,o,r,e[7],4249261313,22),r=os(r,n,i,o,e[8],1770035416,7),o=os(o,r,n,i,e[9],2336552879,12),i=os(i,o,r,n,e[10],4294925233,17),n=os(n,i,o,r,e[11],2304563134,22),r=os(r,n,i,o,e[12],1804603682,7),o=os(o,r,n,i,e[13],4254626195,12),i=os(i,o,r,n,e[14],2792965006,17),r=as(r,n=os(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=as(o,r,n,i,e[6],3225465664,9),i=as(i,o,r,n,e[11],643717713,14),n=as(n,i,o,r,e[0],3921069994,20),r=as(r,n,i,o,e[5],3593408605,5),o=as(o,r,n,i,e[10],38016083,9),i=as(i,o,r,n,e[15],3634488961,14),n=as(n,i,o,r,e[4],3889429448,20),r=as(r,n,i,o,e[9],568446438,5),o=as(o,r,n,i,e[14],3275163606,9),i=as(i,o,r,n,e[3],4107603335,14),n=as(n,i,o,r,e[8],1163531501,20),r=as(r,n,i,o,e[13],2850285829,5),o=as(o,r,n,i,e[2],4243563512,9),i=as(i,o,r,n,e[7],1735328473,14),r=ss(r,n=as(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=ss(o,r,n,i,e[8],2272392833,11),i=ss(i,o,r,n,e[11],1839030562,16),n=ss(n,i,o,r,e[14],4259657740,23),r=ss(r,n,i,o,e[1],2763975236,4),o=ss(o,r,n,i,e[4],1272893353,11),i=ss(i,o,r,n,e[7],4139469664,16),n=ss(n,i,o,r,e[10],3200236656,23),r=ss(r,n,i,o,e[13],681279174,4),o=ss(o,r,n,i,e[0],3936430074,11),i=ss(i,o,r,n,e[3],3572445317,16),n=ss(n,i,o,r,e[6],76029189,23),r=ss(r,n,i,o,e[9],3654602809,4),o=ss(o,r,n,i,e[12],3873151461,11),i=ss(i,o,r,n,e[15],530742520,16),r=fs(r,n=ss(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=fs(o,r,n,i,e[7],1126891415,10),i=fs(i,o,r,n,e[14],2878612391,15),n=fs(n,i,o,r,e[5],4237533241,21),r=fs(r,n,i,o,e[12],1700485571,6),o=fs(o,r,n,i,e[3],2399980690,10),i=fs(i,o,r,n,e[10],4293915773,15),n=fs(n,i,o,r,e[1],2240044497,21),r=fs(r,n,i,o,e[8],1873313359,6),o=fs(o,r,n,i,e[15],4264355552,10),i=fs(i,o,r,n,e[6],2734768916,15),n=fs(n,i,o,r,e[13],1309151649,21),r=fs(r,n,i,o,e[4],4149444226,6),o=fs(o,r,n,i,e[11],3174756917,10),i=fs(i,o,r,n,e[2],718787259,15),n=fs(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},ns.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=ts.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var cs=ns,us=rt.Buffer,ds=new Array(16),hs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ls=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ps=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],gs=[0,1518500249,1859775393,2400959708,2840853838],ys=[1352829926,1548603684,1836072691,2053994217,0];function ms(){es.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function vs(e,t){return e<<t|e>>>32-t}function ws(e,t,r,n,i,o,a,s){return vs(e+(t^r^n)+o+a|0,s)+i|0}function _s(e,t,r,n,i,o,a,s){return vs(e+(t&r|~t&n)+o+a|0,s)+i|0}function Ms(e,t,r,n,i,o,a,s){return vs(e+((t|~r)^n)+o+a|0,s)+i|0}function As(e,t,r,n,i,o,a,s){return vs(e+(t&n|r&~n)+o+a|0,s)+i|0}function ks(e,t,r,n,i,o,a,s){return vs(e+(t^(r|~n))+o+a|0,s)+i|0}jn(ms,es),ms.prototype._update=function(){for(var e=ds,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._a,f=0|this._b,c=0|this._c,u=0|this._d,d=0|this._e,h=0;h<80;h+=1){var l,p;h<16?(l=ws(r,n,i,o,a,e[hs[h]],gs[0],ps[h]),p=ks(s,f,c,u,d,e[ls[h]],ys[0],bs[h])):h<32?(l=_s(r,n,i,o,a,e[hs[h]],gs[1],ps[h]),p=As(s,f,c,u,d,e[ls[h]],ys[1],bs[h])):h<48?(l=Ms(r,n,i,o,a,e[hs[h]],gs[2],ps[h]),p=Ms(s,f,c,u,d,e[ls[h]],ys[2],bs[h])):h<64?(l=As(r,n,i,o,a,e[hs[h]],gs[3],ps[h]),p=_s(s,f,c,u,d,e[ls[h]],ys[3],bs[h])):(l=ks(r,n,i,o,a,e[hs[h]],gs[4],ps[h]),p=ws(s,f,c,u,d,e[ls[h]],ys[4],bs[h])),r=a,a=o,o=vs(i,10),i=n,n=l,s=d,d=u,u=vs(c,10),c=f,f=p}var b=this._b+i+u|0;this._b=this._c+o+d|0,this._c=this._d+a+s|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=b},ms.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=us.alloc?us.alloc(20):new us(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var Es=ms,Ss=ha.Buffer;function xs(e,t){this._block=Ss.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}xs.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=Ss.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,a=0;a<i;){for(var s=o%n,f=Math.min(i-a,n-s),c=0;c<f;c++)r[s+c]=e[a+c];a+=f,(o+=f)%n==0&&this._update(r)}return this._len+=i,this},xs.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},xs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Rs=xs,Ps=ha.Buffer,Ls=[1518500249,1859775393,-1894007588,-899497514],Bs=new Array(80);function Ts(){this.init(),this._w=Bs,Rs.call(this,64,56)}function Is(e){return e<<30|e>>>2}function Cs(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}jn(Ts,Rs),Ts.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Ts.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var c=0;c<80;++c){var u=~~(c/20),d=0|((t=n)<<5|t>>>27)+Cs(u,i,o,a)+s+r[c]+Ls[u];s=a,a=o,o=Is(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Ts.prototype._hash=function(){var e=Ps.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Os=Ts,js=ha.Buffer,zs=[1518500249,1859775393,-1894007588,-899497514],Ns=new Array(80);function Us(){this.init(),this._w=Ns,Rs.call(this,64,56)}function qs(e){return e<<5|e>>>27}function Ks(e){return e<<30|e>>>2}function Fs(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}jn(Us,Rs),Us.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Us.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=(t=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|t>>>31;for(var c=0;c<80;++c){var u=~~(c/20),d=qs(n)+Fs(u,i,o,a)+s+r[c]+zs[u]|0;s=a,a=o,o=Ks(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Us.prototype._hash=function(){var e=js.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Ds=Us,Hs=ha.Buffer,Gs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Vs=new Array(64);function Ws(){this.init(),this._w=Vs,Rs.call(this,64,56)}function Js(e,t,r){return r^e&(t^r)}function Zs(e,t,r){return e&t|r&(e|t)}function Ys(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function $s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Xs(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}jn(Ws,Rs),Ws.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Ws.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,f=0|this._f,c=0|this._g,u=0|this._h,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<64;++d)r[d]=0|(((t=r[d-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[d-7]+Xs(r[d-15])+r[d-16];for(var h=0;h<64;++h){var l=u+$s(s)+Js(s,f,c)+Gs[h]+r[h]|0,p=Ys(n)+Zs(n,i,o)|0;u=c,c=f,f=s,s=a+l|0,a=o,o=i,i=n,n=l+p|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},Ws.prototype._hash=function(){var e=Hs.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Qs=Ws,ef=ha.Buffer,tf=new Array(64);function rf(){this.init(),this._w=tf,Rs.call(this,64,56)}jn(rf,Qs),rf.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},rf.prototype._hash=function(){var e=ef.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var nf=rf,of=ha.Buffer,af=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sf=new Array(160);function ff(){this.init(),this._w=sf,Rs.call(this,128,112)}function cf(e,t,r){return r^e&(t^r)}function uf(e,t,r){return e&t|r&(e|t)}function df(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function hf(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function lf(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function pf(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function bf(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function gf(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function yf(e,t){return e>>>0<t>>>0?1:0}jn(ff,Rs),ff.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},ff.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,f=0|this._gh,c=0|this._hh,u=0|this._al,d=0|this._bl,h=0|this._cl,l=0|this._dl,p=0|this._el,b=0|this._fl,g=0|this._gl,y=0|this._hl,m=0;m<32;m+=2)t[m]=e.readInt32BE(4*m),t[m+1]=e.readInt32BE(4*m+4);for(;m<160;m+=2){var v=t[m-30],w=t[m-30+1],_=lf(v,w),M=pf(w,v),A=bf(v=t[m-4],w=t[m-4+1]),k=gf(w,v),E=t[m-14],S=t[m-14+1],x=t[m-32],R=t[m-32+1],P=M+S|0,L=_+E+yf(P,M)|0;L=(L=L+A+yf(P=P+k|0,k)|0)+x+yf(P=P+R|0,R)|0,t[m]=L,t[m+1]=P}for(var B=0;B<160;B+=2){L=t[B],P=t[B+1];var T=uf(r,n,i),I=uf(u,d,h),C=df(r,u),O=df(u,r),j=hf(a,p),z=hf(p,a),N=af[B],U=af[B+1],q=cf(a,s,f),K=cf(p,b,g),F=y+z|0,D=c+j+yf(F,y)|0;D=(D=(D=D+q+yf(F=F+K|0,K)|0)+N+yf(F=F+U|0,U)|0)+L+yf(F=F+P|0,P)|0;var H=O+I|0,G=C+T+yf(H,O)|0;c=f,y=g,f=s,g=b,s=a,b=p,a=o+D+yf(p=l+F|0,l)|0,o=i,l=h,i=n,h=d,n=r,d=u,r=D+G+yf(u=F+H|0,F)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+h|0,this._dl=this._dl+l|0,this._el=this._el+p|0,this._fl=this._fl+b|0,this._gl=this._gl+g|0,this._hl=this._hl+y|0,this._ah=this._ah+r+yf(this._al,u)|0,this._bh=this._bh+n+yf(this._bl,d)|0,this._ch=this._ch+i+yf(this._cl,h)|0,this._dh=this._dh+o+yf(this._dl,l)|0,this._eh=this._eh+a+yf(this._el,p)|0,this._fh=this._fh+s+yf(this._fl,b)|0,this._gh=this._gh+f+yf(this._gl,g)|0,this._hh=this._hh+c+yf(this._hl,y)|0},ff.prototype._hash=function(){var e=of.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var mf=ff,vf=ha.Buffer,wf=new Array(160);function _f(){this.init(),this._w=wf,Rs.call(this,128,112)}jn(_f,mf),_f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},_f.prototype._hash=function(){var e=vf.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Mf=_f,Af=zt((function(e){var t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};t.sha=Os,t.sha1=Ds,t.sha224=nf,t.sha256=Qs,t.sha384=Mf,t.sha512=mf})),kf=ha.Buffer,Ef=Lr.Transform,Sf=Vt.StringDecoder;function xf(e){Ef.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}jn(xf,Ef),xf.prototype.update=function(e,t,r){"string"==typeof e&&(e=kf.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},xf.prototype.setAutoPadding=function(){},xf.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},xf.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},xf.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},xf.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},xf.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},xf.prototype._finalOrDigest=function(e){var t=this.__final()||kf.alloc(0);return e&&(t=this._toString(t,e,!0)),t},xf.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new Sf(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Rf=xf;function Pf(e){Rf.call(this,"digest"),this._hash=e}jn(Pf,Rf),Pf.prototype._update=function(e){this._hash.update(e)},Pf.prototype._final=function(){return this._hash.digest()};var Lf=function(e){return"md5"===(e=e.toLowerCase())?new cs:"rmd160"===e||"ripemd160"===e?new Es:new Pf(Af(e))},Bf=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)},Tf=function(e){return"string"!=typeof e?e:Bf(e)?e.slice(2):e};function If(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function Cf(e){return"0x"+e.toString(16)}var Of={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){return new ye(If(Cf(e).slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return ye.byteLength(e,"utf8")},isHexPrefixed:Bf,stripHexPrefix:Tf,padToEven:If,intToHex:Cf,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+If(new ye(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new ye(If(Tf(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}},jf=zt((function(e,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Ur.keccak224,i=Ur.keccak384,o=Ur.keccak256,a=Ur.keccak512,s=ha.Buffer;Object.assign(t,Of),t.MAX_INTEGER=new wn("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new wn("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL_S=t.KECCAK256_NULL_S,t.KECCAK256_NULL=s.from(t.KECCAK256_NULL_S,"hex"),t.SHA3_NULL=t.KECCAK256_NULL,t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY_S=t.KECCAK256_RLP_ARRAY_S,t.KECCAK256_RLP_ARRAY=s.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.SHA3_RLP_ARRAY=t.KECCAK256_RLP_ARRAY,t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP_S=t.KECCAK256_RLP_S,t.KECCAK256_RLP=s.from(t.KECCAK256_RLP_S,"hex"),t.SHA3_RLP=t.KECCAK256_RLP,t.BN=wn,t.rlp=Ya,t.secp256k1=Pa,t.zeros=function(e){return s.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=t.setLength=function(e,r,n){var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=t.stripZeros=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!s.isBuffer(e))if(Array.isArray(e))e=s.from(e);else if("string"==typeof e)e=t.isHexString(e)?s.from(t.padToEven(t.stripHexPrefix(e)),"hex"):s.from(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=s.allocUnsafe(0);else if(wn.isBN(e))e=e.toArrayLike(s);else{if(!e.toArray)throw new Error("invalid type");e=s.from(e.toArray())}return e},t.bufferToInt=function(e){return new wn(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new wn(e).fromTwos(256)},t.toUnsigned=function(e){return s.from(e.toTwos(256).toArray())},t.keccak=function(e,r){switch(e=t.toBuffer(e),r||(r=256),r){case 224:return n(e);case 256:return o(e);case 384:return i(e);case 512:return a(e);default:throw new Error("Invald algorithm: keccak"+r)}},t.keccak256=function(e){return t.keccak(e)},t.sha3=t.keccak,t.sha256=function(e){return e=t.toBuffer(e),Lf("sha256").update(e).digest()},t.ripemd160=function(e,r){e=t.toBuffer(e);var n=Lf("rmd160").update(e).digest();return!0===r?t.setLength(n,32):n},t.rlphash=function(e){return t.keccak(Ya.encode(e))},t.isValidPrivate=function(e){return Pa.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?Pa.publicKeyVerify(s.concat([s.from([4]),e])):!!t&&Pa.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,r){return e=t.toBuffer(e),r&&64!==e.length&&(e=Pa.publicKeyConvert(e,!1).slice(1)),Na(64===e.length),t.keccak(e).slice(-20)};var f=t.privateToPublic=function(e){return e=t.toBuffer(e),Pa.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=Pa.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var r=Pa.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},t.hashPersonalMessage=function(e){var r=t.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return t.keccak(s.concat([r,e]))},t.ecrecover=function(e,r,n,i){var o=s.concat([t.setLength(n,32),t.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var f=Pa.recover(e,o,a);return Pa.publicKeyConvert(f,!1).slice(1)},t.toRpcSig=function(e,r,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(s.concat([t.setLengthLeft(r,32),t.setLengthLeft(n,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(f(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var r=t.keccak(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,r){return e=t.toBuffer(e),r=(r=new wn(r)).isZero()?null:s.from(r.toArray()),t.rlphash([e,r]).slice(-20)},t.isPrecompiled=function(e){var r=t.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},t.addHexPrefix=function(e){return"string"!=typeof e||t.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,r,n){var i=new wn("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new wn("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new wn(t),r=new wn(r),!(t.isZero()||t.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new wn(r).cmp(i))))},t.baToJSON=function(e){if(s.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}},t.defineProperties=function(e,n,i){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(r){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return t.baToJSON(this.raw)},e.serialize=function(){return Ya.encode(e.raw)},n.forEach((function(r,n){function i(){return e.raw[n]}function o(i){"00"!==(i=t.toBuffer(i)).toString("hex")||r.allowZero||(i=s.allocUnsafe(0)),r.allowLess&&r.length?(i=t.stripZeros(i),Na(r.length>=i.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===i.length||!r.length||Na(r.length===i.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[n]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),i)if("string"==typeof i&&(i=s.from(t.stripHexPrefix(i),"hex")),s.isBuffer(i)&&(i=Ya.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(r,n){e[e._fields[n]]=t.toBuffer(r)}))}else{if("object"!==(void 0===i?"undefined":r(i)))throw new Error("invalid data");var o=Object.keys(i);n.forEach((function(t){-1!==o.indexOf(t.name)&&(e[t.name]=i[t.name]),-1!==o.indexOf(t.alias)&&(e[t.alias]=i[t.alias])}))}}}));jf.MAX_INTEGER,jf.TWO_POW256,jf.KECCAK256_NULL_S,jf.SHA3_NULL_S,jf.KECCAK256_NULL,jf.SHA3_NULL,jf.KECCAK256_RLP_ARRAY_S,jf.SHA3_RLP_ARRAY_S,jf.KECCAK256_RLP_ARRAY,jf.SHA3_RLP_ARRAY,jf.KECCAK256_RLP_S,jf.SHA3_RLP_S,jf.KECCAK256_RLP,jf.SHA3_RLP,jf.BN,jf.rlp,jf.secp256k1,jf.zeros,jf.zeroAddress,jf.setLengthLeft,jf.setLength,jf.setLengthRight,jf.unpad,jf.stripZeros,jf.toBuffer,jf.bufferToInt,jf.bufferToHex,jf.fromSigned,jf.toUnsigned,jf.keccak,jf.keccak256,jf.sha3,jf.sha256,jf.ripemd160,jf.rlphash,jf.isValidPrivate,jf.isValidPublic,jf.pubToAddress,jf.publicToAddress,jf.privateToPublic,jf.importPublic,jf.ecsign,jf.hashPersonalMessage,jf.ecrecover,jf.toRpcSig,jf.fromRpcSig,jf.privateToAddress,jf.isValidAddress,jf.isZeroAddress,jf.toChecksumAddress,jf.isValidChecksumAddress,jf.generateAddress,jf.isPrecompiled,jf.addHexPrefix,jf.isValidSignature,jf.baToJSON,jf.defineProperties;const zf=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,i)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):r(t)}else e?i(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};var Nf=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let n;n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):zf(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){const o=e[i];n[i]="function"==typeof o&&r(i)?zf(o,t):o}return n},Uf=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)qf.call(r,n)&&(e[n]=r[n])}return e},qf=Object.prototype.hasOwnProperty;const Kf=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}();var Ff=Df;function Df(e){this.currentProvider=e}function Hf(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Gf(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}Df.prototype.getBalance=Gf(2,"eth_getBalance"),Df.prototype.getCode=Gf(2,"eth_getCode"),Df.prototype.getTransactionCount=Gf(2,"eth_getTransactionCount"),Df.prototype.getStorageAt=Gf(3,"eth_getStorageAt"),Df.prototype.call=Gf(2,"eth_call"),Df.prototype.protocolVersion=Hf("eth_protocolVersion"),Df.prototype.syncing=Hf("eth_syncing"),Df.prototype.coinbase=Hf("eth_coinbase"),Df.prototype.mining=Hf("eth_mining"),Df.prototype.hashrate=Hf("eth_hashrate"),Df.prototype.gasPrice=Hf("eth_gasPrice"),Df.prototype.accounts=Hf("eth_accounts"),Df.prototype.blockNumber=Hf("eth_blockNumber"),Df.prototype.getBlockTransactionCountByHash=Hf("eth_getBlockTransactionCountByHash"),Df.prototype.getBlockTransactionCountByNumber=Hf("eth_getBlockTransactionCountByNumber"),Df.prototype.getUncleCountByBlockHash=Hf("eth_getUncleCountByBlockHash"),Df.prototype.getUncleCountByBlockNumber=Hf("eth_getUncleCountByBlockNumber"),Df.prototype.sign=Hf("eth_sign"),Df.prototype.sendTransaction=Hf("eth_sendTransaction"),Df.prototype.sendRawTransaction=Hf("eth_sendRawTransaction"),Df.prototype.estimateGas=Hf("eth_estimateGas"),Df.prototype.getBlockByHash=Hf("eth_getBlockByHash"),Df.prototype.getBlockByNumber=Hf("eth_getBlockByNumber"),Df.prototype.getTransactionByHash=Hf("eth_getTransactionByHash"),Df.prototype.getTransactionByBlockHashAndIndex=Hf("eth_getTransactionByBlockHashAndIndex"),Df.prototype.getTransactionByBlockNumberAndIndex=Hf("eth_getTransactionByBlockNumberAndIndex"),Df.prototype.getTransactionReceipt=Hf("eth_getTransactionReceipt"),Df.prototype.getUncleByBlockHashAndIndex=Hf("eth_getUncleByBlockHashAndIndex"),Df.prototype.getUncleByBlockNumberAndIndex=Hf("eth_getUncleByBlockNumberAndIndex"),Df.prototype.getCompilers=Hf("eth_getCompilers"),Df.prototype.compileLLL=Hf("eth_compileLLL"),Df.prototype.compileSolidity=Hf("eth_compileSolidity"),Df.prototype.compileSerpent=Hf("eth_compileSerpent"),Df.prototype.newFilter=Hf("eth_newFilter"),Df.prototype.newBlockFilter=Hf("eth_newBlockFilter"),Df.prototype.newPendingTransactionFilter=Hf("eth_newPendingTransactionFilter"),Df.prototype.uninstallFilter=Hf("eth_uninstallFilter"),Df.prototype.getFilterChanges=Hf("eth_getFilterChanges"),Df.prototype.getFilterLogs=Hf("eth_getFilterLogs"),Df.prototype.getLogs=Hf("eth_getLogs"),Df.prototype.getWork=Hf("eth_getWork"),Df.prototype.submitWork=Hf("eth_submitWork"),Df.prototype.submitHashrate=Hf("eth_submitHashrate"),Df.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,Uf({id:Kf(),jsonrpc:"2.0",params:[]},r)),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))};var Vf,Wf="object"==typeof Reflect?Reflect:null,Jf=Wf&&"function"==typeof Wf.apply?Wf.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};Vf=Wf&&"function"==typeof Wf.ownKeys?Wf.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Zf=Number.isNaN||function(e){return e!=e};function Yf(){Yf.init.call(this)}var $f=Yf,Xf=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}fc(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&fc(e,"error",t,r)}(e,i,{once:!0})}))};Yf.EventEmitter=Yf,Yf.prototype._events=void 0,Yf.prototype._eventsCount=0,Yf.prototype._maxListeners=void 0;var Qf=10;function ec(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function tc(e){return void 0===e._maxListeners?Yf.defaultMaxListeners:e._maxListeners}function rc(e,t,r,n){var i,o,a,s;if(ec(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=tc(e))>0&&a.length>i&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=a.length,s=f,console&&console.warn&&console.warn(s)}return e}function nc(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ic(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=nc.bind(n);return i.listener=r,n.wrapFn=i,i}function oc(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):sc(i,i.length)}function ac(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function sc(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function fc(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(Yf,"defaultMaxListeners",{enumerable:!0,get:function(){return Qf},set:function(e){if("number"!=typeof e||e<0||Zf(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Qf=e}}),Yf.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Yf.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Zf(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Yf.prototype.getMaxListeners=function(){return tc(this)},Yf.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)Jf(s,this,t);else{var f=s.length,c=sc(s,f);for(r=0;r<f;++r)Jf(c[r],this,t)}return!0},Yf.prototype.addListener=function(e,t){return rc(this,e,t,!1)},Yf.prototype.on=Yf.prototype.addListener,Yf.prototype.prependListener=function(e,t){return rc(this,e,t,!0)},Yf.prototype.once=function(e,t){return ec(t),this.on(e,ic(this,e,t)),this},Yf.prototype.prependOnceListener=function(e,t){return ec(t),this.prependListener(e,ic(this,e,t)),this},Yf.prototype.removeListener=function(e,t){var r,n,i,o,a;if(ec(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},Yf.prototype.off=Yf.prototype.removeListener,Yf.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},Yf.prototype.listeners=function(e){return oc(this,e,!0)},Yf.prototype.rawListeners=function(e){return oc(this,e,!1)},Yf.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ac.call(e,t)},Yf.prototype.listenerCount=ac,Yf.prototype.eventNames=function(){return this._eventsCount>0?Vf(this._events):[]},$f.once=Xf;var cc="object"==typeof Reflect?Reflect:null,uc=cc&&"function"==typeof cc.apply?cc.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},dc=hc;function hc(){$f.call(this)}function lc(e,t,r){try{uc(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}function pc(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Ct.inherits(hc,$f),hc.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)lc(s,this,t);else{var f=s.length,c=pc(s,f);for(r=0;r<f;++r)lc(c[r],this,t)}return!0};const bc=(e,t)=>e+t,gc=["sync","latest"];var yc=class extends dc{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){gc.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return gc.map((e=>this.listenerCount(e))).reduce(bc)}_newPotentialLatest(e){const t=this._currentBlock;t&&mc(e)<=mc(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};function mc(e){return Number.parseInt(e,16)}var vc=class extends yc{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,i=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((e=>this.emit("error",e)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await wc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${e.stack}`);try{this.emit("error",t)}catch(e){console.error(t)}await wc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await Nf((t=>this._provider.sendAsync(e,t)))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error}`);return t.result}};function wc(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}var _c="object"==typeof Ot&&Ot&&Ot.Object===Object&&Ot,Mc="object"==typeof self&&self&&self.Object===Object&&self,Ac=_c||Mc||Function("return this")(),kc=Ac.Symbol,Ec=Object.prototype,Sc=Ec.hasOwnProperty,xc=Ec.toString,Rc=kc?kc.toStringTag:void 0;var Pc=function(e){var t=Sc.call(e,Rc),r=e[Rc];try{e[Rc]=void 0;var n=!0}catch(e){}var i=xc.call(e);return n&&(t?e[Rc]=r:delete e[Rc]),i},Lc=Object.prototype.toString;var Bc=function(e){return Lc.call(e)},Tc=kc?kc.toStringTag:void 0;var Ic=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Tc&&Tc in Object(e)?Pc(e):Bc(e)};var Cc=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Oc=function(e){if(!Cc(e))return!1;var t=Ic(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var jc=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var zc=function(e){return null!=e&&jc(e.length)&&!Oc(e)},Nc=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default}));jt(Nc);var Uc=function(){},qc=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default}));jt(qc);var Kc=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default}));jt(Kc);var Fc=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Dc=function(e){return null!=e&&"object"==typeof e};var Hc=function(e){return Dc(e)&&"[object Arguments]"==Ic(e)},Gc=Object.prototype,Vc=Gc.hasOwnProperty,Wc=Gc.propertyIsEnumerable,Jc=Hc(function(){return arguments}())?Hc:function(e){return Dc(e)&&Vc.call(e,"callee")&&!Wc.call(e,"callee")},Zc=Array.isArray;var Yc=function(){return!1},$c=zt((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?Ac.Buffer:void 0,o=(i?i.isBuffer:void 0)||Yc;e.exports=o})),Xc=/^(?:0|[1-9]\d*)$/;var Qc=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Xc.test(e))&&e>-1&&e%1==0&&e<t},eu={};eu["[object Float32Array]"]=eu["[object Float64Array]"]=eu["[object Int8Array]"]=eu["[object Int16Array]"]=eu["[object Int32Array]"]=eu["[object Uint8Array]"]=eu["[object Uint8ClampedArray]"]=eu["[object Uint16Array]"]=eu["[object Uint32Array]"]=!0,eu["[object Arguments]"]=eu["[object Array]"]=eu["[object ArrayBuffer]"]=eu["[object Boolean]"]=eu["[object DataView]"]=eu["[object Date]"]=eu["[object Error]"]=eu["[object Function]"]=eu["[object Map]"]=eu["[object Number]"]=eu["[object Object]"]=eu["[object RegExp]"]=eu["[object Set]"]=eu["[object String]"]=eu["[object WeakMap]"]=!1;var tu=function(e){return Dc(e)&&jc(e.length)&&!!eu[Ic(e)]};var ru=function(e){return function(t){return e(t)}},nu=zt((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&_c.process,o=function(){try{var e=n&&n.require&&n.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),iu=nu&&nu.isTypedArray,ou=iu?ru(iu):tu,au=Object.prototype.hasOwnProperty;var su=function(e,t){var r=Zc(e),n=!r&&Jc(e),i=!r&&!n&&$c(e),o=!r&&!n&&!i&&ou(e),a=r||n||i||o,s=a?Fc(e.length,String):[],f=s.length;for(var c in e)!t&&!au.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Qc(c,f))||s.push(c);return s},fu=Object.prototype;var cu=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fu)};var uu=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),du=Object.prototype.hasOwnProperty;var hu=function(e){if(!cu(e))return uu(e);var t=[];for(var r in Object(e))du.call(e,r)&&"constructor"!=r&&t.push(r);return t};var lu=function(e){return zc(e)?su(e):hu(e)},pu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,n.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(o=e,a=(0,i.default)(o),s=-1,f=a.length,function(){var e=a[++s];return s<f?{value:o[e],key:e}:null});var o,a,s,f};var r=o(zc),n=o(Kc),i=o(lu);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(pu);var bu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default}));jt(bu);var gu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,s,f){if(f=(0,n.default)(f||r.default),e<=0||!t)return f(null);var c=(0,i.default)(t),u=!1,d=0,h=!1;function l(e,t){if(d-=1,e)u=!0,f(e);else{if(t===a.default||u&&d<=0)return u=!0,f(null);h||p()}}function p(){for(h=!0;d<e&&!u;){var t=c();if(null===t)return u=!0,void(d<=0&&f(null));d+=1,s(t.value,t.key,(0,o.default)(l))}h=!1}p()}};var r=s(Uc),n=s(qc),i=s(pu),o=s(bu),a=s(Nc);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(gu);var yu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default}));jt(yu);var mu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,n.default)(arguments),r=t.pop();e.call(this,t,r)}};var r,n=(r=yu)&&r.__esModule?r:{default:r};e.exports=t.default}));jt(mu);var vu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=s,t.wrap=f;var r,n=(r=yu)&&r.__esModule?r:{default:r};var i,o=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=t.hasNextTick="object"==typeof E&&"function"==typeof E.nextTick;function s(e){setTimeout(e,0)}function f(e){return function(t){var r=(0,n.default)(arguments,1);e((function(){t.apply(null,r)}))}}i=o?setImmediate:a?E.nextTick:s,t.default=f(i)}));jt(vu),vu.hasNextTick,vu.hasSetImmediate,vu.fallback,vu.wrap;var wu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)((function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}(0,r.default)(i)&&"function"==typeof i.then?i.then((function(e){a(n,null,e)}),(function(e){a(n,e.message?e:new Error(e))})):n(null,i)}))};var r=o(Cc),n=o(mu),i=o(vu);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(e){(0,i.default)(s,e)}}function s(e){throw e}e.exports=t.default}));jt(wu);var _u=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var r,n=(r=wu)&&r.__esModule?r:{default:r};var i="function"==typeof Symbol;function o(e){return i&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return o(e)?(0,n.default)(e):e},t.isAsync=o}));jt(_u),_u.isAsync;var Mu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){(0,r.default)(t)(e,(0,n.default)(i),o)};var r=i(gu),n=i(_u);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Mu);var Au=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default}));jt(Au);var ku=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?d:h)(e,(0,c.default)(t),n)};var r=u(zc),n=u(Nc),i=u(Mu),o=u(Au),a=u(Uc),s=u(qc),f=u(bu),c=u(_u);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){r=(0,s.default)(r||a.default);var i=0,o=0,c=e.length;function u(e,t){e?r(e):++o!==c&&t!==n.default||r(null)}for(0===c&&r(null);i<c;i++)t(e[i],i,(0,f.default)(u))}var h=(0,o.default)(i.default,1/0);e.exports=t.default}));jt(ku);var Eu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,i,o){return e(r.default,t,(0,n.default)(i),o)}};var r=i(ku),n=i(_u);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Eu);var Su=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){o=o||r.default,t=t||[];var a=[],s=0,f=(0,n.default)(i);e(t,(function(e,t,r){var n=s++;f(e,(function(e,t){a[n]=t,r(e)}))}),(function(e){o(e,a)}))};var r=i(Uc),n=i(_u);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Su);var xu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(Eu),n=i(Su);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(n.default),e.exports=t.default}));jt(xu);var Ru=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default}));jt(Ru);var Pu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,a){(0,r.default)(t)(e,(0,n.default)((0,i.default)(o)),a)};var r=o(gu),n=o(Ru),i=o(_u);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Pu);var Lu=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(Pu),n=i(Au);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default,1),e.exports=t.default}));jt(Lu);const Bu=V.EventEmitter,Tu=Ct.inherits;var Iu=Cu;function Cu(){Bu.call(this),this.isLocked=!0}Tu(Cu,Bu),Cu.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},Cu.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},Cu.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)};var Ou,ju,zu,Nu,Uu={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},qu=function(e){throw{name:"SyntaxError",message:e,at:Ou,text:zu}},Ku=function(e){return e&&e!==ju&&qu("Expected '"+e+"' instead of '"+ju+"'"),ju=zu.charAt(Ou),Ou+=1,ju},Fu=function(){var e,t="";for("-"===ju&&(t="-",Ku("-"));ju>="0"&&ju<="9";)t+=ju,Ku();if("."===ju)for(t+=".";Ku()&&ju>="0"&&ju<="9";)t+=ju;if("e"===ju||"E"===ju)for(t+=ju,Ku(),"-"!==ju&&"+"!==ju||(t+=ju,Ku());ju>="0"&&ju<="9";)t+=ju,Ku();if(e=+t,isFinite(e))return e;qu("Bad number")},Du=function(){var e,t,r,n="";if('"'===ju)for(;Ku();){if('"'===ju)return Ku(),n;if("\\"===ju)if(Ku(),"u"===ju){for(r=0,t=0;t<4&&(e=parseInt(Ku(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof Uu[ju])break;n+=Uu[ju]}else n+=ju}qu("Bad string")},Hu=function(){for(;ju&&ju<=" ";)Ku()};Nu=function(){switch(Hu(),ju){case"{":return function(){var e,t={};if("{"===ju){if(Ku("{"),Hu(),"}"===ju)return Ku("}"),t;for(;ju;){if(e=Du(),Hu(),Ku(":"),Object.hasOwnProperty.call(t,e)&&qu('Duplicate key "'+e+'"'),t[e]=Nu(),Hu(),"}"===ju)return Ku("}"),t;Ku(","),Hu()}}qu("Bad object")}();case"[":return function(){var e=[];if("["===ju){if(Ku("["),Hu(),"]"===ju)return Ku("]"),e;for(;ju;){if(e.push(Nu()),Hu(),"]"===ju)return Ku("]"),e;Ku(","),Hu()}}qu("Bad array")}();case'"':return Du();case"-":return Fu();default:return ju>="0"&&ju<="9"?Fu():function(){switch(ju){case"t":return Ku("t"),Ku("r"),Ku("u"),Ku("e"),!0;case"f":return Ku("f"),Ku("a"),Ku("l"),Ku("s"),Ku("e"),!1;case"n":return Ku("n"),Ku("u"),Ku("l"),Ku("l"),null}qu("Unexpected '"+ju+"'")}()}};var Gu,Vu,Wu,Ju=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Zu={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function Yu(e){return Ju.lastIndex=0,Ju.test(e)?'"'+e.replace(Ju,(function(e){var t=Zu[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function $u(e,t){var r,n,i,o,a,s=Gu,f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof Wu&&(f=Wu.call(t,e,f)),typeof f){case"string":return Yu(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(Gu+=Vu,a=[],"[object Array]"===Object.prototype.toString.apply(f)){for(o=f.length,r=0;r<o;r+=1)a[r]=$u(r,f)||"null";return i=0===a.length?"[]":Gu?"[\n"+Gu+a.join(",\n"+Gu)+"\n"+s+"]":"["+a.join(",")+"]",Gu=s,i}if(Wu&&"object"==typeof Wu)for(o=Wu.length,r=0;r<o;r+=1)"string"==typeof(n=Wu[r])&&(i=$u(n,f))&&a.push(Yu(n)+(Gu?": ":":")+i);else for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(i=$u(n,f))&&a.push(Yu(n)+(Gu?": ":":")+i);return i=0===a.length?"{}":Gu?"{\n"+Gu+a.join(",\n"+Gu)+"\n"+s+"}":"{"+a.join(",")+"}",Gu=s,i}}var Xu="undefined"!=typeof JSON?JSON:{parse:function(e,t){var r;return zu=e,Ou=0,ju=" ",r=Nu(),Hu(),ju&&qu("Syntax error"),"function"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({"":r},""):r},stringify:function(e,t,r){var n;if(Gu="",Vu="","number"==typeof r)for(n=0;n<r;n+=1)Vu+=" ";else"string"==typeof r&&(Vu=r);if(Wu=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return $u("",{"":e})}},Qu=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var n="boolean"==typeof t.cycles&&t.cycles,i=t.replacer||function(e,t){return t},o=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},o={key:n,value:t[n]};return e(i,o)}}}(t.cmp),a=[];return function e(t,s,f,c){var u=r?"\n"+new Array(c+1).join(r):"",d=r?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=i.call(t,s,f))){if("object"!=typeof f||null===f)return Xu.stringify(f);if(ed(f)){for(var h=[],l=0;l<f.length;l++){var p=e(f,l,f[l],c+1)||Xu.stringify(null);h.push(u+r+p)}return"["+h.join(",")+u+"]"}if(-1!==a.indexOf(f)){if(n)return Xu.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}a.push(f);var b=td(f).sort(o&&o(f));for(h=[],l=0;l<b.length;l++){var g=e(f,s=b[l],f[s],c+1);if(g){var y=Xu.stringify(s)+d+g;h.push(u+r+y)}}return a.splice(a.indexOf(f),1),"{"+h.join(",")+u+"}"}}({"":e},"",e,0)},ed=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},td=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r},rd=function(e){var t=nd(e);if(t>=e.params.length)return null;return e.params[t]};function nd(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}var id=function(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())};var od=function(e){return Uf({id:id(),jsonrpc:"2.0",params:[]},e)};const ad=V.EventEmitter,sd=Ct.inherits,fd=function(){};var cd=ud;function ud(e){const t=this;ad.call(t),t.setMaxListeners(30),e=e||{};const r={sendAsync:t._handleAsync.bind(t)},n=e.blockTrackerProvider||r;t._blockTracker=e.blockTracker||new vc({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),t._ready=new Iu,t.currentBlock=null,t._providers=[]}sd(ud,ad),ud.prototype.start=function(e=fd){const t=this;t._ready.go(),t._blockTracker.on("latest",(e=>{t._getBlockByNumberWithRetry(e,((e,r)=>{if(e)return void this.emit("error",e);if(!r)return console.log(r),void this.emit("error",new Error("Could not find block"));const n=(i=r,{number:jf.toBuffer(i.number),hash:jf.toBuffer(i.hash),parentHash:jf.toBuffer(i.parentHash),nonce:jf.toBuffer(i.nonce),mixHash:jf.toBuffer(i.mixHash),sha3Uncles:jf.toBuffer(i.sha3Uncles),logsBloom:jf.toBuffer(i.logsBloom),transactionsRoot:jf.toBuffer(i.transactionsRoot),stateRoot:jf.toBuffer(i.stateRoot),receiptsRoot:jf.toBuffer(i.receiptRoot||i.receiptsRoot),miner:jf.toBuffer(i.miner),difficulty:jf.toBuffer(i.difficulty),totalDifficulty:jf.toBuffer(i.totalDifficulty),size:jf.toBuffer(i.size),extraData:jf.toBuffer(i.extraData),gasLimit:jf.toBuffer(i.gasLimit),gasUsed:jf.toBuffer(i.gasUsed),timestamp:jf.toBuffer(i.timestamp),transactions:i.transactions});var i;t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)}))})),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},ud.prototype.stop=function(){const e=this;e._blockTracker.removeAllListeners(),e._running=!1,e.emit("stop")},ud.prototype.isRunning=function(){return this._running},ud.prototype.addProvider=function(e,t){const r=this;"number"==typeof t?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)},ud.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},ud.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},ud.prototype.sendAsync=function(e,t){const r=this;r._ready.await((function(){Array.isArray(e)?xu(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},ud.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;return void i();function i(){r._getBlockByNumber(e,o)}function o(e,r){return e?t(e):r?void t(null,r):n>0?(n--,void setTimeout((function(){i()}),1e3)):void t(null,null)}},ud.prototype._getBlockByNumber=function(e,t){const r=od({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,((e,r)=>e?t(e):t(null,r.result)))},ud.prototype._handleAsync=function(e,t){var r=this,n=-1,i=null,o=null,a=[];function s(r,n){o=r,i=n,Lu(a,(function(e,t){e?e(o,i,t):t()}),(function(){var r={id:e.id,jsonrpc:e.jsonrpc,result:i};null!=o?(r.error={message:o.stack||o.message||o,code:-32e3},t(o,r)):t(null,r)}))}!function t(i){if(n+=1,a.unshift(i),n>=r._providers.length)s(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(e,t,s)}catch(e){s(e)}}()},ud.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)};var dd=hd;function hd(){}hd.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},hd.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},hd.prototype.emitPayload=function(e,t){this.engine.sendAsync(od(e),t)},hd.prototype.stop=function(){},hd.prototype.start=function(){};var ld=class extends dd{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(e,t,r){const n={id:e.id};this.middleware(e,n,(function(e){t(((t,r,i)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(i):i()}))}),(function(e){if(e)return r(e);r(null,n.result)}))}},pd={cacheIdentifierForPayload:function(e,t){const r=t?gd(e):e.params;return bd(e)?e.method+":"+Qu(r):null},canCache:bd,blockTagForPayload:function(e){let t=yd(e);if(t>=e.params.length)return null;return e.params[t]},paramsWithoutBlockTag:gd,blockTagParamIndex:yd,cacheTypeForPayload:md};function bd(e){return"never"!==md(e)}function gd(e){const t=yd(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function yd(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function md(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}const vd=[void 0,null,"<nil>"];var wd=function(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new _d,n={perma:r,block:r,fork:r};return i=async(e,i,o)=>{if(e.skipCache)return o();const a=pd.cacheTypeForPayload(e),s=n[a];if(!s)return o();if(!s.canCacheRequest(e))return o();let f,c=pd.blockTagForPayload(e);if(c||(c="latest"),"earliest"===c)f="0x00";else if("latest"===c){const e=await t.getLatestBlock();r.clearBefore(e),f=e}else f=c;const u=await s.get(e,f);void 0===u?(await o(),await s.set(e,f,i.result)):i.result=u},(e,t,r,n)=>{let o;const a=new Promise((e=>{o=e}));let s,f;i(e,t,(async()=>{f=!0,r((e=>{s=e,o()})),await a})).then((async()=>{f?(await a,s(null)):n(null)})).catch((e=>{s?s(e):n(e)}))};var i};class _d{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16);let n=this.cache[r];if(!n){const e={};this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t);if(!r)return;return r[pd.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){if(!this.canCacheResult(e,r))return;this.getBlockCacheForPayload(e,t)[pd.cacheIdentifierForPayload(e,!0)]=r}canCacheRequest(e){if(!pd.canCache(e))return!1;return"pending"!==pd.blockTagForPayload(e)}canCacheResult(e,t){if(!vd.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter((e=>e<r)).forEach((e=>delete t.cache[e]))}}var Md=class extends ld{constructor(e){super((({blockTracker:t})=>wd(Object.assign({blockTracker:t},e))))}};const Ad=Ct.inherits;var kd=Ed;function Ed(e){e=e||{},this.staticResponses=e}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function Sd(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{f(n.next(e))}catch(e){o(e)}}function s(e){try{f(n.throw(e))}catch(e){o(e)}}function f(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,s)}f((n=n.apply(e,t||[])).next())}))}function xd(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Ad(Ed,dd),Ed.prototype.handleRequest=function(e,t,r){var n=this.staticResponses[e.method];"function"==typeof n?n(e,t,r):void 0!==n?setTimeout((()=>r(null,n))):t()};var Rd=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return Sd(this,void 0,void 0,(function(){var t,r,n;return xd(this,(function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:t=i.sent(),r=t[0],n=t[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,i.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),Pd=function(){function e(){this._semaphore=new Rd(1)}return e.prototype.acquire=function(){return Sd(this,void 0,void 0,(function(){var e;return xd(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();var Ld=Object.freeze({__proto__:null,Mutex:Pd,Semaphore:Rd,withTimeout:function(e,t,r){var n=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,o){return Sd(n,void 0,void 0,(function(){var n,a;return xd(this,(function(s){switch(s.label){case 0:return n=!1,setTimeout((function(){n=!0,o(r)}),t),[4,e.acquire()];case 1:return a=s.sent(),n?(Array.isArray(a)?a[1]:a)():i(a),[2]}}))}))}))},runExclusive:function(e){return Sd(this,void 0,void 0,(function(){var t,r;return xd(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}}),Bd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}}));jt(Bd),Bd.getUniqueId;var Td=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0,t.createIdRemapMiddleware=function(){return(e,t,r,n)=>{const i=e.id,o=Bd.getUniqueId();e.id=o,t.id=o,r((r=>{e.id=i,t.id=i,r()}))}}}));jt(Td),Td.createIdRemapMiddleware;var Id=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,f=!1;const c=async()=>{f=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),f?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}}));jt(Id),Id.createAsyncMiddleware;var Cd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}}));jt(Cd),Cd.createScaffoldMiddleware;var Od=zt((function(e,t){function r(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}Object.defineProperty(t,"__esModule",{value:!0});class n extends V.EventEmitter{emit(e,...t){let n="error"===e;const i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=i[e];if(void 0===o)return!1;if("function"==typeof o)r(o,this,t);else{const e=o.length,n=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let i=0;i<e;i+=1)r(n[i],this,t)}return!0}}t.default=n}));jt(Od);var jd=Ud;Ud.default=Ud,Ud.stable=Fd,Ud.stableStringify=Fd;var zd=[],Nd=[];function Ud(e,t,r){var n;for(qd(e,"",[],void 0),n=0===Nd.length?JSON.stringify(e,t,r):JSON.stringify(e,Hd(t),r);0!==zd.length;){var i=zd.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function qd(e,t,r,n){var i;if("object"==typeof e&&null!==e){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);return void(void 0!==o.get?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zd.push([n,t,e,o])):Nd.push([e,t]):(n[t]="[Circular]",zd.push([n,t,e])))}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)qd(e[i],i,r,e);else{var a=Object.keys(e);for(i=0;i<a.length;i++){var s=a[i];qd(e[s],s,r,e)}}r.pop()}}function Kd(e,t){return e<t?-1:e>t?1:0}function Fd(e,t,r){var n,i=Dd(e,"",[],void 0)||e;for(n=0===Nd.length?JSON.stringify(i,t,r):JSON.stringify(i,Hd(t),r);0!==zd.length;){var o=zd.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return n}function Dd(e,t,r,n){var i;if("object"==typeof e&&null!==e){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);return void(void 0!==o.get?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zd.push([n,t,e,o])):Nd.push([e,t]):(n[t]="[Circular]",zd.push([n,t,e])))}if("function"==typeof e.toJSON)return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Dd(e[i],i,r,e);else{var a={},s=Object.keys(e).sort(Kd);for(i=0;i<s.length;i++){var f=s[i];Dd(e[f],f,r,e),a[f]=e[f]}if(void 0===n)return a;zd.push([n,t,e]),n[t]=a}r.pop()}}function Hd(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(Nd.length>0)for(var n=0;n<Nd.length;n++){var i=Nd[n];if(i[1]===t&&i[0]===r){r="[Circular]",Nd.splice(n,1);break}}return e.call(this,t,r)}}var Gd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;class r extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return jd.default(this.serialize(),n,2)}}t.EthereumRpcError=r;function n(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends r{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}}));jt(Gd),Gd.EthereumProviderError,Gd.EthereumRpcError;var Vd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}}));jt(Vd),Vd.errorValues,Vd.errorCodes;var Wd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=Vd.errorCodes.rpc.internal,n={code:r,message:i(r)};function i(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(Vd.errorValues,r))return Vd.errorValues[r].message;if(a(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function o(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!Vd.errorValues[t]||!!a(e)}function a(e){return e>=-32099&&e<=-32e3}function s(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=i,t.isValidCode=o,t.serializeError=function(e,{fallbackError:t=n,shouldIncludeStack:r=!1}={}){var a,c;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof Gd.EthereumRpcError)return e.serialize();const u={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&o(e.code)){const t=e;u.code=t.code,t.message&&"string"==typeof t.message?(u.message=t.message,f(t,"data")&&(u.data=t.data)):(u.message=i(u.code),u.data={originalError:s(e)})}else{u.code=t.code;const r=null===(a=e)||void 0===a?void 0:a.message;u.message=r&&"string"==typeof r?r:t.message,u.data={originalError:s(e)}}const d=null===(c=e)||void 0===c?void 0:c.stack;return r&&e&&d&&"string"==typeof d&&(u.stack=d),u}}));jt(Wd),Wd.serializeError,Wd.isValidCode,Wd.getMessageFromCode,Wd.JSON_RPC_SERVER_ERROR_MESSAGE;var Jd=zt((function(e,t){function r(e,t){const[r,n]=i(t);return new Gd.EthereumRpcError(e,r||Wd.getMessageFromCode(e),n)}function n(e,t){const[r,n]=i(t);return new Gd.EthereumProviderError(e,r||Wd.getMessageFromCode(e),n)}function i(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0,t.ethErrors={rpc:{parse:e=>r(Vd.errorCodes.rpc.parse,e),invalidRequest:e=>r(Vd.errorCodes.rpc.invalidRequest,e),invalidParams:e=>r(Vd.errorCodes.rpc.invalidParams,e),methodNotFound:e=>r(Vd.errorCodes.rpc.methodNotFound,e),internal:e=>r(Vd.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return r(t,e)},invalidInput:e=>r(Vd.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>r(Vd.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>r(Vd.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>r(Vd.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>r(Vd.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>r(Vd.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>n(Vd.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>n(Vd.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>n(Vd.errorCodes.provider.unsupportedMethod,e),disconnected:e=>n(Vd.errorCodes.provider.disconnected,e),chainDisconnected:e=>n(Vd.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new Gd.EthereumProviderError(t,r,n)}}}}));jt(Jd),Jd.ethErrors;var Zd=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0,Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return Gd.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return Gd.EthereumProviderError}}),Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return Wd.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return Wd.getMessageFromCode}}),Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return Jd.ethErrors}}),Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return Vd.errorCodes}})}));jt(Zd),Zd.getMessageFromCode,Zd.serializeError,Zd.EthereumProviderError,Zd.EthereumRpcError,Zd.ethErrors,Zd.errorCodes;var Yd=zt((function(e,t){var r=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const n=r(Od);class i extends n.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,a,s]=await i._runAllMiddleware(e,t,this._middleware);return a?(await i._runReturnHandlers(s),n(o)):r((async e=>{try{await i._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new Zd.EthereumRpcError(Zd.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new Zd.EthereumRpcError(Zd.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=Zd.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,o]=await i._runAllMiddleware(e,t,this._middleware);if(i._checkForCompletion(e,t,n),await i._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let o=null,a=!1;for(const s of r)if([o,a]=await i._runMiddleware(e,t,s,n),a)break;return[o,a,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=Zd.serializeError(r)),i([r,!0])},s=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new Zd.EthereumRpcError(Zd.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${o(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,s,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new Zd.EthereumRpcError(Zd.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${o(e)}`,{request:e});if(!r)throw new Zd.EthereumRpcError(Zd.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${o(e)}`,{request:e})}}function o(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=i}));jt(Yd),Yd.JsonRpcEngine;var $d=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0,t.mergeMiddleware=function(e){const t=new Yd.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}}));jt($d),$d.mergeMiddleware;var Xd=zt((function(e,t){var r=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=Ot&&Ot.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Td,t),n(Id,t),n(Cd,t),n(Bd,t),n(Yd,t),n($d,t)}));jt(Xd);var Qd=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}};const eh=(e,t,r,n)=>function(...i){return new(0,t.promiseModule)(((o,a)=>{t.multiArgs?i.push(((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),o(e)):o(e)})):t.errorFirst?i.push(((e,t)=>{e?a(e):o(t)})):i.push(o);const s=this===r?n:this;Reflect.apply(e,s,i)}))},th=new WeakMap;var rh=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const n=new WeakMap,i=new Proxy(e,{apply(e,r,o){const a=n.get(e);if(a)return Reflect.apply(a,r,o);const s=t.excludeMain?e:eh(e,t,i,e);return n.set(e,s),Reflect.apply(s,r,o)},get(e,r){const o=e[r];if(!((e,r)=>{let n=th.get(e);if(n||(n={},th.set(e,n)),r in n)return n[r];const i=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),o=Reflect.getOwnPropertyDescriptor(e,r),a=void 0===o||o.writable||o.configurable,s=(t.include?t.include.some(i):!t.exclude.some(i))&&a;return n[r]=s,s})(e,r)||o===Function.prototype[r])return o;const a=n.get(o);if(a)return a;if("function"==typeof o){const r=eh(o,t,i,e);return n.set(o,r),r}return o}});return i};const nh=Od.default;var ih=class extends nh{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var oh=class extends ih{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}},ah={minBlockRef:function(...e){return sh(e)[0]},maxBlockRef:function(...e){const t=sh(e);return t[t.length-1]},sortBlockRefs:sh,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:fh,incrementHexInt:function(e){if(null==e)return e;return ch(fh(e)+1)},intToHex:ch,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=uh(),t+=uh();return t}};function sh(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:fh(e)-fh(t)))}function fh(e){return null==e?e:Number.parseInt(e,16)}function ch(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function uh(){return Math.floor(16*Math.random()).toString(16)}const{bnToHex:dh,hexToInt:hh,incrementHexInt:lh,minBlockRef:ph,blockRefIsNumber:bh}=ah;var gh=class extends oh{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new Ff(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=ph(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?lh(e):t;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),o=(await this._fetchLogs(i)).filter((e=>this.matchLog(e)));this.addResults(o)}async _fetchLogs(e){return await rh((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(hh(this.params.fromBlock)>=hh(e.blockNumber))return!1;if(bh(this.params.toBlock)&&hh(this.params.toBlock)<=hh(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;return this.params.topics.every(((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(t)?t:[t];if(i.includes(null))return!0;i=i.map((e=>e.toLowerCase()));return i.includes(n)}))}},yh=async function({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=mh(t),i=mh(r),o=Array(i-n+1).fill().map(((e,t)=>n+t)).map(vh);return await Promise.all(o.map((t=>function(e,t,r){return new Promise(((n,i)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},((e,t)=>{if(e)return i(e);n(t.result)}))}))}(e,"eth_getBlockByNumber",[t,!1]))))};function mh(e){return null==e?e:Number.parseInt(e,16)}function vh(e){if(null==e)return e;return"0x"+e.toString(16)}const{incrementHexInt:wh}=ah;var _h=class extends ih{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=wh(e),i=(await yh({provider:this.provider,fromBlock:n,toBlock:r})).map((e=>e.hash));this.addResults(i)}};const{incrementHexInt:Mh}=ah;var Ah=class extends ih{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=Mh(e),n=await yh({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const e of n)i.push(...e.transactions);this.addResults(i)}};const kh=Ld.Mutex,{createAsyncMiddleware:Eh}=Xd,{intToHex:Sh,hexToInt:xh}=ah;var Rh=function({blockTracker:e,provider:t}){let r=0,n={};const i=new kh,o=function({mutex:e}){return t=>async(r,n,i,o)=>{(await e.acquire())(),t(r,n,i,o)}}({mutex:i}),a=Qd({eth_newFilter:o(Ph(f)),eth_newBlockFilter:o(Ph(c)),eth_newPendingTransactionFilter:o(Ph(u)),eth_uninstallFilter:o(Lh(l)),eth_getFilterChanges:o(Lh(d)),eth_getFilterLogs:o(Lh(h))}),s=async({oldBlock:e,newBlock:t})=>{if(0===n.length)return;const r=await i.acquire();try{await Promise.all(Bh(n).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}})))}catch(e){console.error(e)}r()};return a.newLogFilter=f,a.newBlockFilter=c,a.newPendingTransactionFilter=u,a.uninstallFilter=l,a.getFilterChanges=d,a.getFilterLogs=h,a.destroy=()=>{!async function(){const e=Bh(n).length;n={},b({prevFilterCount:e,newFilterCount:0})}()},a;async function f(e){const r=new gh({provider:t,params:e});return await p(r),r}async function c(){const e=new _h({provider:t});return await p(e),e}async function u(){const e=new Ah({provider:t});return await p(e),e}async function d(e){const t=xh(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function h(e){const t=xh(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function l(e){const t=xh(e),r=n[t],i=Boolean(r);return i&&await async function(e){const t=Bh(n).length;delete n[e];const r=Bh(n).length;b({prevFilterCount:t,newFilterCount:r})}(t),i}async function p(t){const i=Bh(n).length,o=await e.getLatestBlock();await t.initialize({currentBlock:o}),r++,n[r]=t,t.id=r,t.idHex=Sh(r);return b({prevFilterCount:i,newFilterCount:Bh(n).length}),r}function b({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",s):t>0&&0===r&&e.removeListener("sync",s)}};function Ph(e){return Lh((async(...t)=>{const r=await e(...t);return Sh(r.id)}))}function Lh(e){return Eh((async(t,r)=>{const n=await e.apply(null,t.params);r.result=n}))}function Bh(e,t){const r=[];for(let t in e)r.push(e[t]);return r}var Th=class extends ld{constructor(){super((({blockTracker:e,provider:t,engine:r})=>Rh({blockTracker:e,provider:t})))}},Ih=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,i.default)(t||n.default),!(0,r.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var f=0;function c(t){var r=(0,s.default)(e[f++]);t.push((0,a.default)(u)),r.apply(null,t)}function u(r){if(r||f===e.length)return t.apply(null,arguments);c((0,o.default)(arguments,1))}c([])};var r=f(Zc),n=f(Uc),i=f(qc),o=f(yu),a=f(bu),s=f(_u);function f(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Ih);var Ch=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){a=a||r.default;var s=(0,n.default)(t)?[]:{};e(t,(function(e,t,r){(0,o.default)(e)((function(e,n){arguments.length>2&&(n=(0,i.default)(arguments,1)),s[t]=n,r(e)}))}),(function(e){a(e,s)}))};var r=a(Uc),n=a(zc),i=a(yu),o=a(_u);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Ch);var Oh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(r.default,e,t)};var r=i(ku),n=i(Ch);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));jt(Oh);var jh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new(0,oa.ec)("secp256k1"),n=r.curve;t.privateKeyExport=function(e,t){void 0===t&&(t=!0);var o=new wn(e);if(o.ucmp(n.n)>=0)throw new Error("couldn't export to DER format");var a=r.g.mul(o);return i(a.getX(),a.getY(),t)},t.privateKeyModInverse=function(e){var t=new wn(e);if(t.ucmp(n.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(n.n).toArrayLike(ye,"be",32)},t.signatureImport=function(e){var t=new wn(e.r);t.ucmp(n.n)>=0&&(t=new wn(0));var r=new wn(e.s);return r.ucmp(n.n)>=0&&(r=new wn(0)),ye.concat([t.toArrayLike(ye,"be",32),r.toArrayLike(ye,"be",32)])},t.ecdhUnsafe=function(e,t,o){void 0===o&&(o=!0);var a=r.keyFromPublic(e),s=new wn(t);if(s.ucmp(n.n)>=0||s.isZero())throw new Error("scalar was invalid (zero or overflow)");var f=a.pub.mul(s);return i(f.getX(),f.getY(),o)};var i=function(e,t,r){var n;return r?((n=ye.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(ye,"be",32).copy(n,1)):((n=ye.alloc(65))[0]=4,e.toArrayLike(ye,"be",32).copy(n,1),t.toArrayLike(ye,"be",32).copy(n,33)),n}}));jt(jh),jh.privateKeyExport,jh.privateKeyModInverse,jh.signatureImport,jh.ecdhUnsafe;var zh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=ye.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=ye.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,i){void 0===i&&(i=!0);var o=ye.from(i?r:n);return e.copy(o,i?8:9),t.copy(o,i?181:214),o},t.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},t.signatureImportLax=function(e){var t=ye.alloc(32,0),r=ye.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var f=e[i++];if(128&f){if(i+(o=f-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(f=0;o>0;i+=1,o-=1)f=(f<<8)+e[i]}if(f>n-i)return null;var c=i;for(i+=f;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var u=e.slice(s,s+a);for(u.copy(t,32-u.length);f>0&&0===e[c];f-=1,c+=1);if(f>32)return null;var d=e.slice(c,c+f);return d.copy(r,32-d.length),{r:t,s:r}}}));jt(zh),zh.privateKeyExport,zh.privateKeyImport,zh.signatureImportLax;var Nh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhUnsafe=t.ecdh=t.recover=t.verify=t.sign=t.signatureImportLax=t.signatureImport=t.signatureExport=t.signatureNormalize=t.publicKeyCombine=t.publicKeyTweakMul=t.publicKeyTweakAdd=t.publicKeyVerify=t.publicKeyConvert=t.publicKeyCreate=t.privateKeyTweakMul=t.privateKeyTweakAdd=t.privateKeyModInverse=t.privateKeyNegate=t.privateKeyImport=t.privateKeyExport=t.privateKeyVerify=void 0,t.privateKeyVerify=function(e){return 32===e.length&&ba.privateKeyVerify(Uint8Array.from(e))},t.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=jh.privateKeyExport(e,t);return zh.privateKeyExport(e,r,t)},t.privateKeyImport=function(e){if(null!==(e=zh.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},t.privateKeyNegate=function(e){return ye.from(ba.privateKeyNegate(Uint8Array.from(e)))},t.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return ye.from(jh.privateKeyModInverse(Uint8Array.from(e)))},t.privateKeyTweakAdd=function(e,t){return ye.from(ba.privateKeyTweakAdd(Uint8Array.from(e),t))},t.privateKeyTweakMul=function(e,t){return ye.from(ba.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},t.publicKeyCreate=function(e,t){return ye.from(ba.publicKeyCreate(Uint8Array.from(e),t))},t.publicKeyConvert=function(e,t){return ye.from(ba.publicKeyConvert(Uint8Array.from(e),t))},t.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&ba.publicKeyVerify(Uint8Array.from(e))},t.publicKeyTweakAdd=function(e,t,r){return ye.from(ba.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},t.publicKeyTweakMul=function(e,t,r){return ye.from(ba.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},t.publicKeyCombine=function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),ye.from(ba.publicKeyCombine(r,t))},t.signatureNormalize=function(e){return ye.from(ba.signatureNormalize(Uint8Array.from(e)))},t.signatureExport=function(e){return ye.from(ba.signatureExport(Uint8Array.from(e)))},t.signatureImport=function(e){return ye.from(ba.signatureImport(Uint8Array.from(e)))},t.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=zh.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return jh.signatureImport(t)},t.sign=function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!=r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,i,o){var a=null!=n?ye.from(n):null,s=null!=i?ye.from(i):null,f=ye.from("");return r.noncefn&&(f=r.noncefn(ye.from(e),ye.from(t),a,s,o)),new Uint8Array(f)})}var i=ba.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:ye.from(i.signature),recovery:i.recid}},t.verify=function(e,t,r){return ba.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},t.recover=function(e,t,r,n){return ye.from(ba.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},t.ecdh=function(e,t){return ye.from(ba.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},t.ecdhUnsafe=function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return ye.from(jh.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))}}));jt(Nh),Nh.ecdhUnsafe,Nh.ecdh,Nh.recover,Nh.verify,Nh.sign,Nh.signatureImportLax,Nh.signatureImport,Nh.signatureExport,Nh.signatureNormalize,Nh.publicKeyCombine,Nh.publicKeyTweakMul,Nh.publicKeyTweakAdd,Nh.publicKeyVerify,Nh.publicKeyConvert,Nh.publicKeyCreate,Nh.privateKeyTweakMul,Nh.privateKeyTweakAdd,Nh.privateKeyModInverse,Nh.privateKeyNegate,Nh.privateKeyImport,Nh.privateKeyExport,Nh.privateKeyVerify;var Uh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0,t.MAX_INTEGER=new wn("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new wn("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=ye.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=ye.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=ye.from(t.KECCAK256_RLP_S,"hex")}));jt(Uh),Uh.KECCAK256_RLP,Uh.KECCAK256_RLP_S,Uh.KECCAK256_RLP_ARRAY,Uh.KECCAK256_RLP_ARRAY_S,Uh.KECCAK256_NULL,Uh.KECCAK256_NULL_S,Uh.TWO_POW256,Uh.MAX_INTEGER;var qh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.stripZeros=t.unpad=t.setLengthRight=t.setLength=t.setLengthLeft=t.zeros=void 0,t.zeros=function(e){return ye.allocUnsafe(e).fill(0)},t.setLengthLeft=function(e,r,n){void 0===n&&(n=!1);var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=function(e){for(var t=(e=Of.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(e){if(!ye.isBuffer(e))if(Array.isArray(e))e=ye.from(e);else if("string"==typeof e){if(!Of.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=ye.from(Of.padToEven(Of.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=Of.intToBuffer(e);else if(null==e)e=ye.allocUnsafe(0);else if(wn.isBN(e))e=e.toArrayLike(ye);else{if(!e.toArray)throw new Error("invalid type");e=ye.from(e.toArray())}return e},t.bufferToInt=function(e){return new wn(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new wn(e).fromTwos(256)},t.toUnsigned=function(e){return ye.from(e.toTwos(256).toArray())},t.addHexPrefix=function(e){return"string"!=typeof e||Of.isHexPrefixed(e)?e:"0x"+e},t.baToJSON=function(e){if(ye.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}}}));jt(qh),qh.baToJSON,qh.addHexPrefix,qh.toUnsigned,qh.fromSigned,qh.bufferToHex,qh.bufferToInt,qh.toBuffer,qh.stripZeros,qh.unpad,qh.setLengthRight,qh.setLength,qh.setLengthLeft,qh.zeros;var Kh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160=t.sha256=t.keccak256=t.keccak=void 0;var r=Ur.keccak224,n=Ur.keccak384,i=Ur.keccak256,o=Ur.keccak512;t.keccak=function(e,t){switch(void 0===t&&(t=256),e="string"!=typeof e||Of.isHexString(e)?qh.toBuffer(e):ye.from(e,"utf8"),t||(t=256),t){case 224:return r(e);case 256:return i(e);case 384:return n(e);case 512:return o(e);default:throw new Error("Invald algorithm: keccak"+t)}},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=qh.toBuffer(e),Lf("sha256").update(e).digest()},t.ripemd160=function(e,t){e=qh.toBuffer(e);var r=Lf("rmd160").update(e).digest();return!0===t?qh.setLength(r,32):r},t.rlphash=function(e){return t.keccak(Ya.encode(e))}}));jt(Kh),Kh.rlphash,Kh.ripemd160,Kh.sha256,Kh.keccak256,Kh.keccak;var Fh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.isPrecompiled=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isZeroAddress=t.isValidAddress=t.zeroAddress=void 0,t.zeroAddress=function(){var e=qh.zeros(20);return qh.bufferToHex(e)},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===qh.addHexPrefix(e)},t.toChecksumAddress=function(e,t){e=Of.stripHexPrefix(e).toLowerCase();for(var r=void 0!==t?t.toString()+"0x":"",n=Kh.keccak(r+e).toString("hex"),i="0x",o=0;o<e.length;o++)parseInt(n[o],16)>=8?i+=e[o].toUpperCase():i+=e[o];return i},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(e,t){e=qh.toBuffer(e);var r=new wn(t);return r.isZero()?Kh.rlphash([e,null]).slice(-20):Kh.rlphash([e,ye.from(r.toArray())]).slice(-20)},t.generateAddress2=function(e,t,r){var n=qh.toBuffer(e),i=qh.toBuffer(t),o=qh.toBuffer(r);return Na(20===n.length),Na(32===i.length),Kh.keccak256(ye.concat([ye.from("ff","hex"),n,i,Kh.keccak256(o)])).slice(-20)},t.isPrecompiled=function(e){var t=qh.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},t.isValidPrivate=function(e){return Nh.privateKeyVerify(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?Nh.publicKeyVerify(ye.concat([ye.from([4]),e])):!!t&&Nh.publicKeyVerify(e)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=qh.toBuffer(e),t&&64!==e.length&&(e=Nh.publicKeyConvert(e,!1).slice(1)),Na(64===e.length),Kh.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return e=qh.toBuffer(e),Nh.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=qh.toBuffer(e)).length&&(e=Nh.publicKeyConvert(e,!1).slice(1)),e}}));jt(Fh),Fh.importPublic,Fh.privateToPublic,Fh.privateToAddress,Fh.publicToAddress,Fh.pubToAddress,Fh.isValidPublic,Fh.isValidPrivate,Fh.isPrecompiled,Fh.generateAddress2,Fh.generateAddress,Fh.isValidChecksumAddress,Fh.toChecksumAddress,Fh.isZeroAddress,Fh.isValidAddress,Fh.zeroAddress;var Dh=zt((function(e,t){function r(e,t){return t?e-(2*t+35):e-27}function n(e){return 0===e||1===e}Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0,t.ecsign=function(e,t,r){var n=Nh.sign(e,t),i=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(2*r+35):i+27}},t.ecrecover=function(e,t,i,o,a){var s=ye.concat([qh.setLength(i,32),qh.setLength(o,32)],64),f=r(t,a);if(!n(f))throw new Error("Invalid signature v value");var c=Nh.recover(e,s,f);return Nh.publicKeyConvert(c,!1).slice(1)},t.toRpcSig=function(e,t,i,o){if(!n(r(e,o)))throw new Error("Invalid signature v value");return qh.bufferToHex(ye.concat([qh.setLengthLeft(t,32),qh.setLengthLeft(i,32),qh.toBuffer(e)]))},t.fromRpcSig=function(e){var t=qh.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},t.isValidSignature=function(e,t,i,o,a){void 0===o&&(o=!0);var s=new wn("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=new wn("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==i.length)return!1;if(!n(r(e,a)))return!1;var c=new wn(t),u=new wn(i);return!(c.isZero()||c.gt(f)||u.isZero()||u.gt(f))&&(!o||1!==u.cmp(s))},t.hashPersonalMessage=function(e){var t=ye.from("Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return Kh.keccak(ye.concat([t,e]))}}));jt(Dh),Dh.hashPersonalMessage,Dh.isValidSignature,Dh.fromRpcSig,Dh.toRpcSig,Dh.ecrecover,Dh.ecsign;var Hh=zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=void 0,t.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return qh.baToJSON(e.raw)},e.serialize=function(){return Ya.encode(e.raw)},t.forEach((function(t,r){function n(){return e.raw[r]}function i(n){"00"!==(n=qh.toBuffer(n)).toString("hex")||t.allowZero||(n=ye.allocUnsafe(0)),t.allowLess&&t.length?(n=qh.stripZeros(n),Na(t.length>=n.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===n.length||!t.length||Na(t.length===n.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=ye.from(Of.stripHexPrefix(r),"hex")),ye.isBuffer(r)&&(r=Ya.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=qh.toBuffer(t)}))}else{if("object"!=typeof r)throw new Error("invalid data");var n=Object.keys(r);t.forEach((function(t){-1!==n.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==n.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}}}));jt(Hh),Hh.defineProperties;var Gh=zt((function(e,t){var r=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=Ot&&Ot.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=t.rlp=t.BN=void 0,t.secp256k1=Nh,t.BN=wn,t.rlp=Ya,Object.assign(t,Of),n(Uh,t),n(Fh,t),n(Kh,t),n(Dh,t),n(qh,t),n(Hh,t)}));jt(Gh),Gh.secp256k1,Gh.rlp,Gh.BN;var Vh=function(){};function Wh(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function Jh(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Zh(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Yh(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function $h(e){var t=typeof e;if("string"===t)return Gh.isHexPrefixed(e)?new wn(Gh.stripHexPrefix(e),16):new wn(e,10);if("number"===t)return new wn(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Xh(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==r&&3===r.length)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:t[1],args:n}}function Qh(e,t){var r,n,i,o;if("address"===e)return Qh("uint160",$h(t));if("bool"===e)return Qh("uint8",t?1:0);if("string"===e)return Qh("bytes",ye.from(t,"utf8"));if(nl(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=Yh(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(Qh(e,t[o]));if("dynamic"===r){var a=Qh("uint256",t.length);i.unshift(a)}return ye.concat(i)}if("bytes"===e)return t=ye.from(t),i=ye.concat([Qh("uint256",t.length),t]),t.length%32!=0&&(i=ye.concat([i,Gh.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((r=Jh(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Gh.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=Jh(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=$h(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ye,"be",32)}if(e.startsWith("int")){if((r=Jh(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=$h(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ye,"be",32)}if(e.startsWith("ufixed")){if(r=Zh(e),(n=$h(t))<0)throw new Error("Supplied ufixed is negative");return Qh("uint256",n.mul(new wn(2).pow(new wn(r[1]))))}if(e.startsWith("fixed"))return r=Zh(e),Qh("int256",$h(t).mul(new wn(2).pow(new wn(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function el(e,t,r){var n,i,o,a;if("string"==typeof e&&(e=tl(e)),"address"===e.name)return el(e.rawType,t,r).toArrayLike(ye,"be",20).toString("hex");if("bool"===e.name)return el(e.rawType,t,r).toString()===new wn(1).toString();if("string"===e.name){var s=el(e.rawType,t,r);return ye.from(s,"utf8").toString()}if(e.isArray){for(o=[],n=e.size,"dynamic"===e.size&&(r=el("uint256",t,r).toNumber(),n=el("uint256",t,r).toNumber(),r+=32),a=0;a<n;a++){var f=el(e.subArray,t,r);o.push(f),r+=e.subArray.memoryUsage}return o}if("bytes"===e.name)return r=el("uint256",t,r).toNumber(),n=el("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if((i=new wn(t.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("int")){if((i=new wn(t.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("ufixed")){if(n=new wn(2).pow(new wn(e.size[1])),!(i=el("uint256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}if(e.name.startsWith("fixed")){if(n=new wn(2).pow(new wn(e.size[1])),!(i=el("int256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}throw new Error("Unsupported or invalid type: "+e.name)}function tl(e){var t,r,n;if(nl(e)){t=Yh(e);var i=e.slice(0,e.lastIndexOf("["));return i=tl(i),r={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?r.size=Jh(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=Zh(e)),e.startsWith("bytes")&&"bytes"!==e&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function rl(e){return"string"===e||"bytes"===e||"dynamic"===Yh(e)}function nl(e){return e.lastIndexOf("]")===e.length-1}function il(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}Vh.eventID=function(e,t){var r=e+"("+t.map(Wh).join(",")+")";return Gh.keccak256(ye.from(r))},Vh.methodID=function(e,t){return Vh.eventID(e,t).slice(0,4)},Vh.rawEncode=function(e,t){var r=[],n=[],i=0;e.forEach((function(e){if(nl(e)){var t=Yh(e);i+="dynamic"!==t?32*t:32}else i+=32}));for(var o=0;o<e.length;o++){var a=Wh(e[o]),s=Qh(a,t[o]);rl(a)?(r.push(Qh("uint256",i)),n.push(s),i+=s.length):r.push(s)}return ye.concat(r.concat(n))},Vh.rawDecode=function(e,t){var r=[];t=ye.from(t);for(var n=0,i=0;i<e.length;i++){var o=tl(Wh(e[i])),a=el(o,t,n);n+=o.memoryUsage,r.push(a)}return r},Vh.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=Xh(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return ye.concat([Vh.methodID(r.method,r.args),Vh.rawEncode(r.args,t)])},Vh.simpleDecode=function(e,t){var r=Xh(e);if(!r.retargs)throw new Error("No return values in method");return Vh.rawDecode(r.retargs,t)},Vh.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(e){return il(i,e)})).join(", "):il(i,o),r.push(o)}return r},Vh.solidityHexValue=function(e,t,r){var n,i;if(nl(e)){var o=e.replace(/\[.*?\]/,"");if(!nl(o)){var a=Yh(e);if("dynamic"!==a&&0!==a&&t.length>a)throw new Error("Elements exceed array size: "+a)}var s=t.map((function(e){return Vh.solidityHexValue(o,e,256)}));return ye.concat(s)}if("bytes"===e)return t;if("string"===e)return ye.from(t,"utf8");if("bool"===e){r=r||8;var f=Array(r/4).join("0");return ye.from(t?f+"1":f+"0","hex")}if("address"===e){var c=20;return r&&(c=r/8),Gh.setLengthLeft(t,c)}if(e.startsWith("bytes")){if((n=Jh(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Gh.setLengthRight(t,n)}if(e.startsWith("uint")){if((n=Jh(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=$h(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(ye,"be",r/8)}if(e.startsWith("int")){if((n=Jh(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=$h(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(ye,"be",r/8)}throw new Error("Unsupported or invalid type: "+e)},Vh.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var i=Wh(e[n]),o=t[n];r.push(Vh.solidityHexValue(i,o,null))}return ye.concat(r)},Vh.soliditySHA3=function(e,t){return Gh.keccak256(Vh.solidityPack(e,t))},Vh.soliditySHA256=function(e,t){return Gh.sha256(Vh.solidityPack(e,t))},Vh.solidityRIPEMD160=function(e,t){return Gh.ripemd160(Vh.solidityPack(e,t),!0)},Vh.fromSerpent=function(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n];if("s"===i)r.push("bytes");else if("b"===i){for(var o="bytes",a=n+1;a<e.length&&((t=e[a])>="0"&&t<="9");)o+=e[a]-"0",a++;n=a-1,r.push(o)}else if("i"===i)r.push("int256");else{if("a"!==i)throw new Error("Unsupported or invalid type: "+i);r.push("int256[]")}}return r},Vh.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("bytes"===n)t.push("s");else if(n.startsWith("bytes"))t.push("b"+Jh(n));else if("int256"===n)t.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("a")}}return t.join("")};var ol=function(e){const t=sl(e),r=jf.publicToAddress(t);return jf.bufferToHex(r)};function al(e,t){const r=jf.toBuffer(t),n=jf.fromRpcSig(r);return jf.ecrecover(e,n.v,n.r,n.s)}function sl(e){const t=jf.toBuffer(e.data);return al(jf.hashPersonalMessage(t),e.sig)}var fl=zt((function(e,t){!function(t){var r=function(e){setTimeout(e,0)};void 0!==E&&E&&"function"==typeof E.nextTick&&(r=E.nextTick),e.exports=function(e){var t={capacity:e||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===t.firstHere){t.current++,t.firstHere=!0;var e=1}else e=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(t.leave)},t.current+r.n-e>t.capacity)return 1===e&&(t.current--,t.firstHere=!1),t.queue.push(r);t.current+=r.n-e,r.task(t.leave),1===e&&(t.firstHere=!1)},leave:function(e){if(e=e||1,t.current-=e,t.queue.length){var n=t.queue[0];n.n+t.current>t.capacity||(t.queue.shift(),t.current+=n.n,r(n.task))}else if(t.current<0)throw new Error("leave called too many times.")},available:function(e){return e=e||1,t.current+e<=t.capacity}};return t}}()})),cl=function(e,t,r){e.sendAsync(od({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e);r(null,t.result)}))};const ul=Ct.inherits,dl=/^[0-9A-Fa-f]+$/g;var hl=ll;function ll(e){const t=this;t.nonceLock=fl(1),e.getAccounts&&(t.getAccounts=e.getAccounts),e.processTransaction&&(t.processTransaction=e.processTransaction),e.processMessage&&(t.processMessage=e.processMessage),e.processPersonalMessage&&(t.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(t.processTypedMessage=e.processTypedMessage),t.approveTransaction=e.approveTransaction||t.autoApprove,t.approveMessage=e.approveMessage||t.autoApprove,t.approvePersonalMessage=e.approvePersonalMessage||t.autoApprove,t.approveDecryptMessage=e.approveDecryptMessage||t.autoApprove,t.approveEncryptionPublicKey=e.approveEncryptionPublicKey||t.autoApprove,t.approveTypedMessage=e.approveTypedMessage||t.autoApprove,e.signTransaction&&(t.signTransaction=e.signTransaction||ml("signTransaction")),e.signMessage&&(t.signMessage=e.signMessage||ml("signMessage")),e.signPersonalMessage&&(t.signPersonalMessage=e.signPersonalMessage||ml("signPersonalMessage")),e.decryptMessage&&(t.decryptMessage=e.decryptMessage||ml("decryptMessage")),e.encryptionPublicKey&&(t.encryptionPublicKey=e.encryptionPublicKey||ml("encryptionPublicKey")),e.signTypedMessage&&(t.signTypedMessage=e.signTypedMessage||ml("signTypedMessage")),e.recoverPersonalSignature&&(t.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(t.publishTransaction=e.publishTransaction),t.estimateGas=e.estimateGas||t.estimateGas,t.getGasPrice=e.getGasPrice||t.getGasPrice}function pl(e){return e.toLowerCase()}function bl(e){const t=jf.addHexPrefix(e);return jf.isValidAddress(t)}function gl(e){const t=jf.addHexPrefix(e);return!jf.isValidAddress(t)&&yl(e)}function yl(e){if(!("string"==typeof e))return!1;if(!("0x"===e.slice(0,2)))return!1;return e.slice(2).match(dl)}function ml(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}ul(ll,dd),ll.prototype.handleRequest=function(e,t,r){const n=this;let i,o,a,s,f;switch(n._parityRequests={},n._parityRequestCount=0,e.method){case"eth_coinbase":return void n.getAccounts((function(e,t){if(e)return r(e);let n=t[0]||null;r(null,n)}));case"eth_accounts":return void n.getAccounts((function(e,t){if(e)return r(e);r(null,t)}));case"eth_sendTransaction":return i=e.params[0],void Ih([e=>n.validateTransaction(i,e),e=>n.processTransaction(i,e)],r);case"eth_signTransaction":return i=e.params[0],void Ih([e=>n.validateTransaction(i,e),e=>n.processSignTransaction(i,e)],r);case"eth_sign":return f=e.params[0],s=e.params[1],a=e.params[2]||{},o=Uf(a,{from:f,data:s}),void Ih([e=>n.validateMessage(o,e),e=>n.processMessage(o,e)],r);case"personal_sign":return function(){const t=e.params[0];if(gl(e.params[1])&&bl(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],s=e.params[1]}else s=e.params[0],f=e.params[1];a=e.params[2]||{},o=Uf(a,{from:f,data:s}),Ih([e=>n.validatePersonalMessage(o,e),e=>n.processPersonalMessage(o,e)],r)}();case"eth_decryptMessage":return function(){const t=e.params[0];if(gl(e.params[1])&&bl(t)){let t="The eth_decryptMessage method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],s=e.params[1]}else s=e.params[0],f=e.params[1];a=e.params[2]||{},o=Uf(a,{from:f,data:s}),Ih([e=>n.validateDecryptMessage(o,e),e=>n.processDecryptMessage(o,e)],r)}();case"encryption_public_key":return function(){const t=e.params[0];Ih([e=>n.validateEncryptionPublicKey(t,e),e=>n.processEncryptionPublicKey(t,e)],r)}();case"personal_ecRecover":return function(){s=e.params[0];let t=e.params[1];a=e.params[2]||{},o=Uf(a,{sig:t,data:s}),n.recoverPersonalSignature(o,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const t=e.params[0],i=e.params[1];bl(t)?(f=t,s=i):(s=t,f=i),a=e.params[2]||{},o=Uf(a,{from:f,data:s}),Ih([e=>n.validateTypedMessage(o,e),e=>n.processTypedMessage(o,e)],r)}();case"parity_postTransaction":return i=e.params[0],void n.parityPostTransaction(i,r);case"parity_postSign":return f=e.params[0],s=e.params[1],void n.parityPostSign(f,s,r);case"parity_checkRequest":return function(){const t=e.params[0];n.parityCheckRequest(t,r)}();case"parity_defaultAccount":return void n.getAccounts((function(e,t){if(e)return r(e);const n=t[0]||null;r(null,n)}));default:return void t()}},ll.prototype.getAccounts=function(e){e(null,[])},ll.prototype.processTransaction=function(e,t){const r=this;Ih([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},ll.prototype.processSignTransaction=function(e,t){const r=this;Ih([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},ll.prototype.processMessage=function(e,t){const r=this;Ih([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},ll.prototype.processPersonalMessage=function(e,t){const r=this;Ih([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},ll.prototype.processDecryptMessage=function(e,t){const r=this;Ih([t=>r.approveDecryptMessage(e,t),(e,t)=>r.checkApproval("decryptMessage",e,t),t=>r.decryptMessage(e,t)],t)},ll.prototype.processEncryptionPublicKey=function(e,t){const r=this;Ih([t=>r.approveEncryptionPublicKey(e,t),(e,t)=>r.checkApproval("encryptionPublicKey",e,t),t=>r.encryptionPublicKey(e,t)],t)},ll.prototype.processTypedMessage=function(e,t){const r=this;Ih([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},ll.prototype.autoApprove=function(e,t){t(null,!0)},ll.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},ll.prototype.parityPostTransaction=function(e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e});const i=t.result;r._parityRequests[n]=i})),t(null,n)},ll.prototype.parityPostSign=function(e,t,r){const n=this,i=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},(function(e,t){if(e)return void(n._parityRequests[i]={error:e});const r=t.result;n._parityRequests[i]=r})),r(null,i)},ll.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null;return r?r.error?t(r.error):void t(null,r):t(null,null)},ll.prototype.recoverPersonalSignature=function(e,t){let r;try{r=ol(e)}catch(e){return t(e)}t(null,r)},ll.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},ll.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},ll.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):yl(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},ll.prototype.validateDecryptMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to decrypt message.")):void 0===e.data?t(new Error("Undefined message - message required to decrypt message.")):yl(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},ll.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`))}))},ll.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},ll.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts((function(r,n){if(r)return t(r);const i=-1!==n.map(pl).indexOf(e.toLowerCase());t(null,i)}))},ll.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take((function(){Ih([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e);t(null,n)}))}))},ll.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take((function(){Ih([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,i){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:i,tx:e})}))}))},ll.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e);t(null,r.result)}))},ll.prototype.estimateGas=function(e,t){cl(this.engine,e,t)},ll.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t);e(null,r.result)}))},ll.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,i={};void 0===e.gasPrice&&(i.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(i.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===e.gas&&(i.gas=r.estimateGas.bind(r,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),Oh(i,(function(r,n){if(r)return t(r);const i={};n.gasPrice&&(i.gasPrice=n.gasPrice),n.nonce&&(i.nonce=n.nonce.result),n.gas&&(i.gas=n.gas),t(null,Uf(e,i))}))};var vl={v:5e3,d:"Gas limit of the Genesis block."},wl={v:17179869184,d:"Difficulty of the Genesis block."},_l={v:"0x0000000000000042",d:"the geneis nonce"},Ml={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},Al={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},kl={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},El={v:5e3,d:"Minimum the gas limit may ever be."},Sl={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},xl={v:131072,d:"The minimum that the difficulty may ever be."},Rl={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},Pl={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},Ll={v:32,d:"Maximum size extra data may be after Genesis."},Bl={v:3e4,d:"Duration between proof-of-work epochs."},Tl={v:1024,d:"Maximum size of VM stack allowed."},Il={v:1024,d:"Maximum depth of call/create stack."},Cl={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},Ol={v:10,d:"Once per EXP instuction."},jl={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},zl={v:30,d:"Once per SHA3 operation."},Nl={v:6,d:"Once per word of the SHA3 operation's data."},Ul={v:50,d:"Once per SLOAD operation."},ql={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},Kl={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},Fl={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},Dl={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},Hl={v:375,d:"Per LOG* operation."},Gl={v:8,d:"Per byte in a LOG* operation's data."},Vl={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},Wl={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},Jl={v:40,d:"Once per CALL operation & message call transaction."},Zl={v:2300,d:"Free gas given at beginning of call."},Yl={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},$l={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},Xl={v:24e3,d:"Refunded following a suicide operation."},Ql={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},ep={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},tp={v:200,d:""},rp={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},np={v:32e3,d:"the cost of creating a contract via tx"},ip={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},op={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},ap={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},sp={v:3e3,d:""},fp={v:60,d:""},cp={v:12,d:""},up={v:600,d:""},dp={v:120,d:""},hp={v:15,d:""},lp={v:3,d:""},pp={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},bp={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},gp={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},yp={v:115e4,d:"the block that the Homestead fork started at"},mp={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},vp={v:1e5,d:"Exponential difficulty timebomb period"},wp={v:2},_p={genesisGasLimit:vl,genesisDifficulty:wl,genesisNonce:_l,genesisExtraData:Ml,genesisHash:Al,genesisStateRoot:kl,minGasLimit:El,gasLimitBoundDivisor:Sl,minimumDifficulty:xl,difficultyBoundDivisor:Rl,durationLimit:Pl,maximumExtraDataSize:Ll,epochDuration:Bl,stackLimit:Tl,callCreateDepth:Il,tierStepGas:Cl,expGas:Ol,expByteGas:jl,sha3Gas:zl,sha3WordGas:Nl,sloadGas:Ul,sstoreSetGas:ql,sstoreResetGas:Kl,sstoreRefundGas:Fl,jumpdestGas:Dl,logGas:Hl,logDataGas:Gl,logTopicGas:Vl,createGas:Wl,callGas:Jl,callStipend:Zl,callValueTransferGas:Yl,callNewAccountGas:$l,suicideRefundGas:Xl,memoryGas:Ql,quadCoeffDiv:ep,createDataGas:tp,txGas:rp,txCreation:np,txDataZeroGas:ip,txDataNonZeroGas:op,copyGas:ap,ecrecoverGas:sp,sha256Gas:fp,sha256WordGas:cp,ripemd160Gas:up,ripemd160WordGas:dp,identityGas:hp,identityWordGas:lp,minerReward:pp,ommerReward:bp,niblingReward:gp,homeSteadForkNumber:yp,homesteadRepriceForkNumber:mp,timebombPeriod:vp,freeBlockPeriod:wp},Mp=Nt(Object.freeze({__proto__:null,genesisGasLimit:vl,genesisDifficulty:wl,genesisNonce:_l,genesisExtraData:Ml,genesisHash:Al,genesisStateRoot:kl,minGasLimit:El,gasLimitBoundDivisor:Sl,minimumDifficulty:xl,difficultyBoundDivisor:Rl,durationLimit:Pl,maximumExtraDataSize:Ll,epochDuration:Bl,stackLimit:Tl,callCreateDepth:Il,tierStepGas:Cl,expGas:Ol,expByteGas:jl,sha3Gas:zl,sha3WordGas:Nl,sloadGas:Ul,sstoreSetGas:ql,sstoreResetGas:Kl,sstoreRefundGas:Fl,jumpdestGas:Dl,logGas:Hl,logDataGas:Gl,logTopicGas:Vl,createGas:Wl,callGas:Jl,callStipend:Zl,callValueTransferGas:Yl,callNewAccountGas:$l,suicideRefundGas:Xl,memoryGas:Ql,quadCoeffDiv:ep,createDataGas:tp,txGas:rp,txCreation:np,txDataZeroGas:ip,txDataNonZeroGas:op,copyGas:ap,ecrecoverGas:sp,sha256Gas:fp,sha256WordGas:cp,ripemd160Gas:up,ripemd160WordGas:dp,identityGas:hp,identityWordGas:lp,minerReward:pp,ommerReward:bp,niblingReward:gp,homeSteadForkNumber:yp,homesteadRepriceForkNumber:mp,timebombPeriod:vp,freeBlockPeriod:wp,default:_p}));var Ap=jf.BN,kp=new Ap("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Ep=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new ye([])},{name:"gasPrice",length:32,allowLess:!0,default:new ye([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new ye([])},{name:"to",allowZero:!0,length:20,default:new ye([])},{name:"value",length:32,allowLess:!0,default:new ye([])},{name:"data",alias:"input",allowZero:!0,default:new ye([])},{name:"v",allowZero:!0,default:new ye([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new ye([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new ye([])}];jf.defineProperties(this,r,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=jf.bufferToInt(this.v),i=Math.floor((n-35)/2);i<0&&(i=0),this._chainId=i||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return jf.rlphash(t)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=jf.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._homestead&&1===new Ap(this.s).cmp(kp))return!1;try{var t=jf.bufferToInt(this.v);this._chainId>0&&(t-=2*this._chainId+8),this._senderPubKey=jf.ecrecover(e,t,this.r,this.s)}catch(e){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){var t=this.hash(!1),r=jf.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new Ap(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(Mp.txDataZeroGas.v):t.iaddn(Mp.txDataNonZeroGas.v);return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(Mp.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(Mp.txCreation.v),e},e.prototype.getUpfrontCost=function(){return new Ap(this.gasLimit).imul(new Ap(this.gasPrice)).iadd(new Ap(this.value))},e.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new Ap(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},e}();const Sp=Ct.inherits,xp=rd;var Rp=Pp;function Pp(e){this.nonceCache={}}Sp(Pp,dd),Pp.prototype.handleRequest=function(e,t,r){const n=this;switch(e.method){case"eth_getTransactionCount":var i=xp(e),o=e.params[0].toLowerCase(),a=n.nonceCache[o];return void("pending"===i?a?r(null,a):t((function(e,t,r){if(e)return r();void 0===n.nonceCache[o]&&(n.nonceCache[o]=t),r()})):t());case"eth_sendRawTransaction":return void t((function(t,r,i){if(t)return i();var o=e.params[0];jf.stripHexPrefix(o),ye.from(jf.stripHexPrefix(o),"hex");var a=new Ep(ye.from(jf.stripHexPrefix(o),"hex")),s="0x"+a.getSenderAddress().toString("hex").toLowerCase(),f=jf.bufferToInt(a.nonce),c=(++f).toString(16);c.length%2&&(c="0"+c),c="0x"+c,n.nonceCache[s]=c,i()}));case"evm_revert":return n.nonceCache={},void t();default:return void t()}};const Lp=Od.default,{createAsyncMiddleware:Bp}=Xd,{unsafeRandomBytes:Tp,incrementHexInt:Ip}=ah;var Cp=function({blockTracker:e,provider:t}){const r={},n=Rh({blockTracker:e,provider:t});let i=!1;const o=new Lp,a=Qd({eth_subscribe:Bp((async function(o,a){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const f=o.params[0],c=Tp(16);let u;switch(f){case"newHeads":u=d({subId:c});break;case"logs":const e=o.params[1];u=h({subId:c,filter:await n.newLogFilter(e)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${f}"`)}return r[c]=u,void(a.result=c);function d({subId:r}){const n={type:f,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const i=n,o=Ip(e);(await yh({provider:t,fromBlock:o,toBlock:i})).map(Op).forEach((e=>{s(r,e)}))}};return e.on("sync",n.update),n}function h({subId:e,filter:t}){t.on("update",(t=>s(e,t)));return{type:f,destroy:async()=>await n.uninstallFilter(t.idHex)}}})),eth_unsubscribe:Bp((async function(e,t){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];if(!o)return void(t.result=!1);delete r[n],await o.destroy(),t.result=!0}))});return a.destroy=f,{events:o,middleware:a};function s(e,t){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}function f(){o.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];i=!0}};function Op(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}var jp=class extends ld{constructor(){super((({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:i}=Cp({blockTracker:e,provider:t});return n.on("notification",(e=>r.emit("data",null,e))),i}))}};function zp(e){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Np(e,t,r,n,i,o,a){try{var s=e[o](a),f=s.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function Up(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Np(o,n,i,a,s,"next",e)}function s(e){Np(o,n,i,a,s,"throw",e)}a(void 0)}))}}function qp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gp(e);if(t){var i=Gp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Dp(this,r)}}function Dp(e,t){return!t||"object"!==zp(t)&&"function"!=typeof t?Hp(e):t}function Hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}H.config();var Wp=function(e){return e},Jp=function(e,t){return{id:e.id,jsonrpc:e.jsonrpc,result:t}};return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}(s,e);var t,r,n,i,o,a=Fp(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Vp(Hp(e=a.call(this,{})),"isBlocto",!0),Vp(Hp(e),"isConnecting",!1),Vp(Hp(e),"connected",!1),Vp(Hp(e),"server","https://flow-wallet.blocto.app"),e.setup(),e}return t=s,(r=[{key:"setup",value:function(){var e,t,r=this;this.addProvider(new kd({web3_clientVersion:"Blocto/v0.0.0/javascript",net_listening:!0,eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0})),this.addProvider(new Md),this.addProvider(new Th),this.addProvider(new Rp),this.addProvider(new jp),this.addProvider(new hl({getAccounts:(e=Up(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.fetchAccounts();case 3:(n=e.sent)&&n.length?t(null,n):t(new Error("Failed to get accounts")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(t){return e.apply(this,arguments)})})),this.addProvider({handleRequest:(t=Up(regeneratorRuntime.mark((function e(t,n,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.handleRequest(t);case 3:o=e.sent,a=o.result,i(null,a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,r,n){return t.apply(this,arguments)}),setEngine:Wp}),this.on("error",(function(e){console.error(e.stack)})),this.start()}},{key:"handleRequest",value:(o=Up(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=null,n=null,e.t0=t.method,e.next="eth_accounts"===e.t0?6:("eth_blockNumber"===e.t0||"eth_getBlockByNumber"===e.t0||"eth_protocolVersion"===e.t0||"eth_syncing"===e.t0||"eth_coinbase"===e.t0||"eth_gasPrice"===e.t0||"eth_getBalance"===e.t0||"eth_getStorageAt"===e.t0||"eth_getTransactionCount"===e.t0||"eth_getBlockTransactionCountByHash"===e.t0||"eth_getBlockTransactionCountByNumber"===e.t0||"eth_getUncleCountByBlockHash"===e.t0||"eth_getUncleCountByBlockNumber"===e.t0||"eth_getCode"===e.t0||"eth_sign"===e.t0||"eth_signTransaction"===e.t0||"eth_sendTransaction"===e.t0||"eth_sendRawTransaction"===e.t0||"eth_call"===e.t0||"eth_estimateGas"===e.t0||"eth_getBlockByHash"===e.t0||"eth_getTransactionByHash"===e.t0||"eth_getTransactionByBlockHashAndIndex"===e.t0||"eth_getTransactionByBlockNumberAndIndex"===e.t0||"eth_getTransactionReceipt"===e.t0||"eth_getUncleByBlockHashAndIndex"===e.t0||"eth_getUncleByBlockNumberAndIndex"===e.t0||"eth_getCompilers"===e.t0||"eth_compileLLL"===e.t0||"eth_compileSolidity"===e.t0||"eth_compileSerpent"===e.t0||"eth_newFilter"===e.t0||"eth_newBlockFilter"===e.t0||"eth_newPendingTransactionFilter"===e.t0||"eth_uninstallFilter"===e.t0||"eth_getFilterChanges"===e.t0||"eth_getFilterLogs"===e.t0||"eth_getLogs"===e.t0||"eth_getWork"===e.t0||"eth_submitWork"===e.t0||e.t0,10);break;case 6:return e.next=8,this.fetchAccounts();case 8:i=e.sent,n=i;case 10:n="Unsupported method";case 11:if(!r){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",Jp(t,n));case 16:throw e.prev=16,e.t1=e.catch(0),this.emit("error",e.t1),e.t1;case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e){return o.apply(this,arguments)})},{key:"enable",value:function(){var e=this;return new Promise((function(t,r){"undefined"==typeof window&&r("Currently ");var n=document.createElement("iframe");n.setAttribute("src","".concat(e.server,"/authn?l6n=").concat(encodeURIComponent(window.location.origin))),n.setAttribute("style","width:100vw;height:100vh;position:fixed;top:0;left:0"),document.body.appendChild(n);var i=null;i=window.addEventListener("message",(function(o){o.origin===e.server&&("FCL::CHALLENGE::RESPONSE"===o.data.type&&(window.removeEventListener("message",i),document.body.removeChild(n),e.code=o.data.code,t()),"FCL::CHALLENGE::CANCEL"===o.data.type&&(window.removeEventListener("message",i),document.body.removeChild(n),r()))}))}))}},{key:"fetchAccounts",value:(i=Up(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.server,"/api/ethereum/accounts?code=").concat(this.code)).then((function(e){return e.json()}));case 2:return t=e.sent,r=t.accounts,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}])&&qp(t.prototype,r),n&&qp(t,n),s}(cd)}));
